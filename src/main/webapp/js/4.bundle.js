webpackJsonp([4],Array(58).concat([function(t){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"==typeof Float32Array?Array:Float32Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var e=Math.PI/180;r.toRadian=function(t){return t*e},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=r},,function(t,r,e){t.exports={default:e(80),__esModule:!0}},,,,,,,,,,,,function(t,r,e){var n=e(28),i=e(14)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},,function(t,r,e){var n=e(18);t.exports=function(t,r,e,i){try{return i?r(n(e)[0],e[1]):r(e)}catch(r){var a=t.return;throw void 0!==a&&n(a.call(t)),r}}},,,,,,function(t,r,e){e(34),e(100),t.exports=e(13).Array.from},,,,,,,,function(t,r,e){"use strict";var n=e(16),i=e(29);t.exports=function(t,r,e){r in t?n.f(t,r,i(0,e)):t[r]=e}},,,,function(t,r,e){var n=e(14)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!i)return!1;var e=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:e=!0}},a[n]=function(){return s},t(a)}catch(t){}return e}},,,,,,,,function(t,r,e){"use strict";var n=e(31),i=e(20),a=e(45),s=e(74),o=e(72),u=e(50),h=e(88),l=e(57);i(i.S+i.F*!e(92)((function(t){Array.from(t)})),"Array",{from:function(t){var r,e,i,c,f=a(t),p="function"==typeof this?this:Array,d=arguments.length,y=1<d?arguments[1]:void 0,v=void 0!==y,m=0,g=l(f);if(v&&(y=n(y,2<d?arguments[2]:void 0,2)),void 0==g||p==Array&&o(g))for(r=u(f.length),e=new p(r);r>m;m++)h(e,m,v?y(f[m],m):f[m]);else for(c=g.call(f),e=new p;!(i=c.next()).done;m++)h(e,m,v?s(c,y,[i.value,m],!0):i.value);return e.length=m,e}})},,,,,,,function(t,r,e){r.glMatrix=e(58),r.mat2=e(200),r.mat2d=e(201),r.mat3=e(146),r.mat4=e(202),r.quat=e(203),r.vec2=e(204),r.vec3=e(147),r.vec4=e(148)},function(t){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},,function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(1),i=e.n(n);e(17);var a=e(161),s=e(166),o=e(165),u=(function(){function t(r){i()(this,t),this.canvas=r,this.canvas.style.width="100%",this.canvas.style.height="100%",this.renderer=new o.a(this.canvas),this.scene=new s.a({canvas:this.canvas}),this.resize(),a.a.add(this._updateBinded=this.update.bind(this))}return t.prototype.resize=function(){var t=this.canvas.offsetWidth,r=this.canvas.offsetHeight;this.scene.resize(t,r),this.renderer.resize(t,r),this.renderer.render(this.scene)},t.prototype.update=function(){this.scene.update(),this.renderer.render(this.scene)},t.prototype.dispose=function(){a.a.delete(this._updateBinded)},t})();r.default=u},,function(t,r,e){t.exports={default:e(176),__esModule:!0}},function(t,r,e){t.exports={default:e(177),__esModule:!0}},function(t,r,e){"use strict";function n(t,r,e){this.x=t||0,this.y=r||0,this.z=e||0}var i=e(135),a=e(150),s=e(220);e.d(r,"a",(function(){return n})),n.prototype={constructor:n,isVector3:!0,set:function(t,r,e){return this.x=t,this.y=r,this.z=e,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,r){return void 0===r?(this.x+=t.x,this.y+=t.y,this.z+=t.z,this):(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r))},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this},sub:function(t,r){return void 0===r?(this.x-=t.x,this.y-=t.y,this.z-=t.z,this):(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r))},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this},multiply:function(t,r){return void 0===r?(this.x*=t.x,this.y*=t.y,this.z*=t.z,this):(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,r))},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this},applyEuler:(function(){var t;return function(r){return!1===(r&&r.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0==t&&(t=new s.a),this.applyQuaternion(t.setFromEuler(r))}})(),applyAxisAngle:(function(){var t;return function(r,e){return void 0==t&&(t=new s.a),this.applyQuaternion(t.setFromAxisAngle(r,e))}})(),applyMatrix3:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[3]*e+i[6]*n,this.y=i[1]*r+i[4]*e+i[7]*n,this.z=i[2]*r+i[5]*e+i[8]*n,this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[4]*e+i[8]*n+i[12],this.y=i[1]*r+i[5]*e+i[9]*n+i[13],this.z=i[2]*r+i[6]*e+i[10]*n+i[14],this},applyProjection:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements,a=1/(i[3]*r+i[7]*e+i[11]*n+i[15]);return this.x=(i[0]*r+i[4]*e+i[8]*n+i[12])*a,this.y=(i[1]*r+i[5]*e+i[9]*n+i[13])*a,this.z=(i[2]*r+i[6]*e+i[10]*n+i[14])*a,this},applyQuaternion:function(t){var r=this.x,e=this.y,n=this.z,i=t.x,a=t.y,s=t.z,o=t.w,u=o*r+a*n-s*e,h=o*e+s*r-i*n,l=o*n+i*e-a*r,c=-i*r-a*e-s*n;return this.x=u*o+c*-i+h*-s-l*-a,this.y=h*o+c*-a+l*-i-u*-s,this.z=l*o+c*-s+u*-a-h*-i,this},project:(function(){var t;return function(r){return void 0==t&&(t=new a.a),t.multiplyMatrices(r.projectionMatrix,t.getInverse(r.matrixWorld)),this.applyProjection(t)}})(),unproject:(function(){var t;return function(r){return void 0==t&&(t=new a.a),t.multiplyMatrices(r.matrixWorld,t.getInverse(r.projectionMatrix)),this.applyProjection(t)}})(),transformDirection:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[4]*e+i[8]*n,this.y=i[1]*r+i[5]*e+i[9]*n,this.z=i[2]*r+i[6]*e+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this},clampScalar:(function(){var t,r;return function(e,i){return void 0==t&&(t=new n,r=new n),t.set(e,e,e),r.set(i,i,i),this.clamp(t,r)}})(),clampLength:function(t,r){var e=this.length();return this.multiplyScalar(Math.max(t,Math.min(r,e))/e)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},cross:function(t,r){if(void 0!==r)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,r);var e=this.x,n=this.y,i=this.z;return this.x=n*t.z-i*t.y,this.y=i*t.x-e*t.z,this.z=e*t.y-n*t.x,this},crossVectors:function(t,r){var e=t.x,n=t.y,i=t.z,a=r.x,s=r.y,o=r.z;return this.x=n*o-i*s,this.y=i*a-e*o,this.z=e*s-n*a,this},projectOnVector:function(t){var r=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(r)},projectOnPlane:(function(){var t;return function(r){return void 0==t&&(t=new n),t.copy(this).projectOnVector(r),this.sub(t)}})(),reflect:(function(){var t;return function(r){return void 0==t&&(t=new n),this.sub(t.copy(r).multiplyScalar(2*this.dot(r)))}})(),angleTo:function(t){var r=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(i.a.clamp(r,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y,n=this.z-t.z;return r*r+e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var r=Math.sin(t.phi)*t.radius;return this.x=r*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=r*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var r=this.setFromMatrixColumn(t,0).length(),e=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=e,this.z=n,this},setFromMatrixColumn:function(t,r){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var e=t;t=r,r=e}return this.fromArray(t.elements,4*r)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t},fromAttribute:function(t,r,e){return void 0!==e&&console.warn("THREE.Vector3: offset has been removed from .fromAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}}},,,function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(49),s=e.n(a),o=e(149),u=e.n(o),h=(function(){function t(){i()(this,t),this._stackglTexture2D=u.a.apply(void 0,arguments)}return t.prototype.bind=function(t){this._stackglTexture2D.bind(t)},t.prototype.dispose=function(){this._stackglTexture2D.dispose()},t.prototype.generateMipmap=function(){this._stackglTexture2D.generateMipmap()},s()(t,[{key:"gl",get:function(){return this._stackglTexture2D.gl}},{key:"webGLTexture",get:function(){return this._stackglTexture2D.handle}},{key:"type",get:function(){return this._stackglTexture2D.type}},{key:"format",get:function(){return this._stackglTexture2D.format}},{key:"width",get:function(){return this._stackglTexture2D.shape[0]},set:function(t){this._stackglTexture2D.shape=[t,this.height]}},{key:"height",get:function(){return this._stackglTexture2D.shape[1]},set:function(t){this._stackglTexture2D.shape=[this.width,t]}},{key:"wrap",set:function(t){this._stackglTexture2D.wrap=[t,t]}},{key:"wrapS",get:function(){return this._stackglTexture2D.wrap[0]},set:function(t){this._stackglTexture2D.wrap=[t,this.wrapT]}},{key:"wrapT",get:function(){return this._stackglTexture2D.wrap[1]},set:function(t){this._stackglTexture2D.wrap=[this.wrapS,t]}},{key:"magFilter",get:function(){return this._stackglTexture2D.magFilter},set:function(t){this._stackglTexture2D.magFilter=t}},{key:"minFilter",get:function(){return this._stackglTexture2D.minFilter},set:function(t){this._stackglTexture2D.minFilter=t}},{key:"mipSamples",get:function(){return this._stackglTexture2D.mipSamples},set:function(t){this._stackglTexture2D.mipSamples=t}}]),t})();r.a=h},,,,,,,,function(t,r,e){var n=e(31),i=e(74),a=e(72),s=e(18),o=e(50),u=e(57),h={},l={},r=t.exports=function(t,r,e,c,f){var p,d,y,v,m=f?function(){return t}:u(t),g=n(e,c,r?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(p=o(t.length);p>x;x++)if(v=r?g(s(d=t[x])[0],d[1]):g(t[x]),v===h||v===l)return v}else for(y=m.call(t);!(d=y.next()).done;)if(v=i(y,g,d.value,r),v===h||v===l)return v};r.BREAK=h,r.RETURN=l},,,,,,,,,function(t,r,e){"use strict";e.d(r,"g",(function(){return n})),e.d(r,"j",(function(){return i})),e.d(r,"h",(function(){return a})),e.d(r,"a",(function(){return s})),e.d(r,"i",(function(){return o})),e.d(r,"b",(function(){return u})),e.d(r,"c",(function(){return h})),e.d(r,"e",(function(){return 1009})),e.d(r,"d",(function(){return l})),e.d(r,"f",(function(){return 3e3}));var n=300,i=301,a=1e3,s=1001,o=1002,u=1006,h=1008,l=1023},function(t,r,e){"use strict";e.d(r,"a",(function(){return n}));var n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(function(){var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=Array(36),n=0;return function(){for(var i=0;36>i;i++)8===i||13===i||18===i||23===i?e[i]="-":14===i?e[i]="4":(2>=n&&(n=0|33554432+16777216*Math.random()),t=15&n,n>>=4,e[i]=r[19===i?8|3&t:t]);return e.join("")}})(),clamp:function(t,r,e){return Math.max(r,Math.min(e,t))},euclideanModulo:function(t,r){return(t%r+r)%r},mapLinear:function(t,r,e,n,i){return n+(t-r)*(i-n)/(e-r)},lerp:function(t,r,e){return(1-e)*t+e*r},smoothstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r),t*t*(3-2*t))},smootherstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r),t*t*t*(t*(6*t-15)+10))},randInt:function(t,r){return t+Math.floor(Math.random()*(r-t+1))},randFloat:function(t,r){return t+Math.random()*(r-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*n.DEG2RAD},radToDeg:function(t){return t*n.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}}},function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(49),s=e.n(a),o=e(107);e.n(o);var u=(function(){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i()(this,t),this.elements=o.vec2.create(),this.x=r,this.y=e,this}return s()(t,null,[{key:"elements",get:function(){return o.vec2}}]),t.prototype.set=function(t,r){return this.x=t,this.y=r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.normalize=function(){o.vec2.normalize(this.elements,this.elements)},t.prototype.lerp=function(t,r){o.vec2.lerp(this.elements,this.elements,t.elements,r)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.scale=function(t){return o.vec2.scale(this.elements,this.elements,t),this},t.prototype.multiplyScalar=function(t){return console.warn("Deprecated, use scale instead"),this.scale(t)},t.prototype.divideScalar=function(t){return 0===t?this.set(0,0):this.multiplyScalar(1/t),this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.setFromAngle=function(t){this.set(Math.cos(t),-Math.sin(t))},t.prototype.angleTo=function(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)},s()(t,[{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}},{key:"size",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"angle",get:function(){return Math.atan2(this.y,-this.x)}}]),t})();r.a=u},function(t,r,e){"use strict";var n=e(52),i=e.n(n),a=e(112),s=e.n(a),o=e(53),u=e.n(o),h=e(60),l=e.n(h),c=e(113),f=e.n(c),p=e(1),d=e.n(p),y=e(49),v=e.n(y),m=e(25),g=e.n(m),x=e(24),M=e.n(x),_=e(107);e.n(_);var b=(function(t){function r(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;d()(this,r);var s=g()(this,t.call(this,3));return s.set(n,i,a),e=s,g()(s,e)}return M()(r,t),r.prototype.set=function(t,r,e){return _.vec3.set(this,t,r,e),this},r.prototype.copy=function(t){return _.vec3.copy(this,t),this},r.prototype.add=function(t){return _.vec3.add(this,this,t),this},r.prototype.size=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.prototype.subtract=function(t){return _.vec3.subtract(this,this,t),this},r.prototype.negate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this;return _.vec3.negate(this,t),this},r.prototype.cross=function(t,r){return _.vec3.cross(this,t,r),this},r.prototype.scale=function(t){return _.vec3.scale(this,this,t),this},r.prototype.normalize=function(){this.divideScalar(this.size)},r.prototype.divideScalar=function(t){if(0!==t){var r=1/t;this.x*=r,this.y*=r,this.z*=r}else this.x=0,this.y=0,this.z=0;return this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},r.prototype.equals=function(t){return _.vec3.exactEquals(this,t)},r.prototype.applyMatrix4=function(t){return _.vec3.transformMat4(this,this,t),this},r.prototype.angleTo=function(t){var r=this.dot(t)/(this.size*t.size);return Math.acos(-1>r?-1:1<r?1:r)},r.prototype.clone=function(){return new r(this.x,this.y,this.z)},v()(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}}]),r})(function(t){function r(){var r=f()(t,l()(arguments));return u()(r,s()(this)),r}return r.prototype=i()(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u.a?u()(r,t):r.__proto__=t,r}(Float32Array));r.a=b},function(t,r,e){"use strict";var n=e(54),i=e.n(n),a=e(1),s=e.n(a),o=e(25),u=e.n(o),h=e(24),l=e.n(h),c=e(151),f=e(114),p=e(221),d=e(219),y=e(150),v=e(152),m=e(222),g=e(163),x=(function(t){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.vertexShader,i=void 0===n?"\n    void main() {\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n  ":n,a=e.fragmentShader,o=void 0===a?"\n    void main() {\n      gl_FragColor = vec4(1.);\n    }\n  ":a,h=e.uniforms,l=void 0===h?{}:h;return s()(this,r),u()(this,t.call(this,{vertexShader:i,fragmentShader:o,uniforms:l}))}return l()(r,t),r.prototype.parseQualifiers=function(){for(var r in t.prototype.parseQualifiers.call(this,{classes:{Vector2:c.a,Vector3:f.a,Vector4:p.a,Matrix3:d.a,Matrix4:y.a,TextureCube:m.a,Texture2D:v.a}}),this.uniforms){var e=this.uniforms[r];("object"!==("undefined"==typeof e?"undefined":i()(e))||void 0===e.value)&&(this.uniforms[r]={value:e})}},r})(g.a);r.a=x},function(t,r,e){t.exports={default:e(174),__esModule:!0}},function(t,r,e){t.exports={default:e(175),__esModule:!0}},function(t){t.exports=function(t,r,e,n){if(!(t instanceof r)||void 0!==n&&n in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,r,e){"use strict";var n=e(16).f,i=e(33),a=e(145),s=e(31),o=e(141),u=e(35),h=e(125),l=e(55),c=e(75),f=e(187),p=e(19),d=e(69).fastKey,y=p?"_s":"size",v=function(t,r){var e,n=d(r);if("F"!==n)return t._i[n];for(e=t._f;e;e=e.n)if(e.k==r)return e};t.exports={getConstructor:function(t,r,e,l){var c=t((function(t,n){o(t,c,r,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=n&&h(n,e,t[l],t)}));return a(c.prototype,{clear:function(){for(var t=this,r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var r=this,e=v(r,t);if(e){var n=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=n),n&&(n.p=i),r._f==e&&(r._f=n),r._l==e&&(r._l=i),r[y]--}return!!e},forEach:function(t){o(this,c,"forEach");for(var r,e=s(t,1<arguments.length?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(this,t)}}),p&&n(c.prototype,"size",{get:function(){return u(this[y])}}),c},def:function(t,r,e){var n,i,a=v(t,r);return a?a.v=e:(t._l=a={i:i=d(r,!0),k:r,v:e,p:n=t._l,n:void 0,r:!1},!t._f&&(t._f=a),n&&(n.n=a),t[y]++,"F"!==i&&(t._i[i]=a)),t},getEntry:v,setStrong:function(t,r,e){l(t,r,(function(t,r){this._t=t,this._k=r,this._l=void 0}),(function(){for(var t=this,r=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?"keys"==r?c(0,e.k):"values"==r?c(0,e.v):c(0,[e.k,e.v]):(t._t=void 0,c(1))}),e?"entries":"values",!e,!0),f(r)}}},function(t,r,e){var n=e(71),i=e(179);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,r,e){"use strict";var n=e(15),i=e(20),a=e(69),s=e(27),o=e(23),u=e(145),h=e(125),l=e(141),c=e(26),f=e(37),p=e(16).f,d=e(180)(0),y=e(19);t.exports=function(t,r,e,v,m,g){var x=n[t],M=x,_=m?"set":"add",b=M&&M.prototype,E={};return y&&"function"==typeof M&&(g||b.forEach&&!s((function(){(new M).entries().next()})))?(M=r((function(r,e){l(r,M,t,"_c"),r._c=new x,void 0!=e&&h(e,m,r[_],r)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var r="add"==t||"set"==t;t in b&&!(g&&"clear"==t)&&o(M.prototype,t,(function(e,n){if(l(this,M,t),!r&&g&&!c(e))return"get"==t&&void 0;var i=this._c[t](0===e?0:e,n);return r?this:i}))})),"size"in b&&p(M.prototype,"size",{get:function(){return this._c.size}})):(M=v.getConstructor(r,t,m,_),u(M.prototype,e),a.NEED=!0),f(M,t),E[t]=M,i(i.G+i.W+i.F,E),g||v.setStrong(M,t,m),M}},function(t,r,e){var n=e(23);t.exports=function(t,r,e){for(var i in r)e&&t[i]?t[i]=r[i]:n(t,i,r[i]);return t}},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},i.clone=function(t){var r=new n.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},i.fromValues=function(t,r,e,i,a,s,o,u,h){var l=new n.ARRAY_TYPE(9);return l[0]=t,l[1]=r,l[2]=e,l[3]=i,l[4]=a,l[5]=s,l[6]=o,l[7]=u,l[8]=h,l},i.set=function(t,r,e,n,i,a,s,o,u,h){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,r){if(t===r){var e=r[1],n=r[2],i=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=n,t[7]=i}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},i.invert=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=r[6],h=r[7],l=r[8],c=l*s-o*h,f=-l*a+o*u,p=h*a-s*u,d=e*c+n*f+i*p;return d?(d=1/d,t[0]=c*d,t[1]=(-l*n+i*h)*d,t[2]=(o*n-i*s)*d,t[3]=f*d,t[4]=(l*e-i*u)*d,t[5]=(-o*e+i*a)*d,t[6]=p*d,t[7]=(-h*e+n*u)*d,t[8]=(s*e-n*a)*d,t):null},i.adjoint=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=r[6],h=r[7],l=r[8];return t[0]=s*l-o*h,t[1]=i*h-n*l,t[2]=n*o-i*s,t[3]=o*u-a*l,t[4]=e*l-i*u,t[5]=i*a-e*o,t[6]=a*h-s*u,t[7]=n*u-e*h,t[8]=e*s-n*a,t},i.determinant=function(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return r*(h*a-s*u)+e*(-h*i+s*o)+n*(u*i-a*o)},i.multiply=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],l=r[7],c=r[8],f=e[0],p=e[1],d=e[2],y=e[3],v=e[4],m=e[5],g=e[6],x=e[7],M=e[8];return t[0]=f*n+p*s+d*h,t[1]=f*i+p*o+d*l,t[2]=f*a+p*u+d*c,t[3]=y*n+v*s+m*h,t[4]=y*i+v*o+m*l,t[5]=y*a+v*u+m*c,t[6]=g*n+x*s+M*h,t[7]=g*i+x*o+M*l,t[8]=g*a+x*u+M*c,t},i.mul=i.multiply,i.translate=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],l=r[7],c=r[8],f=e[0],p=e[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=f*n+p*s+h,t[7]=f*i+p*o+l,t[8]=f*a+p*u+c,t},i.rotate=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],l=r[7],c=r[8],f=Math.sin(e),p=Math.cos(e);return t[0]=p*n+f*s,t[1]=p*i+f*o,t[2]=p*a+f*u,t[3]=p*s-f*n,t[4]=p*o-f*i,t[5]=p*u-f*a,t[6]=h,t[7]=l,t[8]=c,t},i.scale=function(t,r,e){var n=e[0],i=e[1];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=i*r[3],t[4]=i*r[4],t[5]=i*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},i.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t},i.fromRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=0,t[3]=-e,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},i.fromQuat=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e+e,o=n+n,u=i+i,h=e*s,l=n*s,c=n*o,f=i*s,p=i*o,d=i*u,y=a*s,v=a*o,m=a*u;return t[0]=1-c-d,t[3]=l-m,t[6]=f+v,t[1]=l+m,t[4]=1-h-d,t[7]=p-y,t[2]=f-v,t[5]=p+y,t[8]=1-h-c,t},i.normalFromMat4=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=r[6],h=r[7],l=r[8],c=r[9],f=r[10],p=r[11],d=r[12],y=r[13],v=r[14],m=r[15],g=e*o-n*s,x=e*u-i*s,M=e*h-a*s,_=n*u-i*o,b=n*h-a*o,E=i*h-a*u,w=l*y-c*d,S=l*v-f*d,I=l*m-p*d,A=c*v-f*y,T=c*m-p*y,F=f*m-p*v,D=g*F-x*T+M*A+_*I-b*S+E*w;return D?(D=1/D,t[0]=(o*F-u*T+h*A)*D,t[1]=(u*I-s*F-h*S)*D,t[2]=(s*T-o*I+h*w)*D,t[3]=(i*T-n*F-a*A)*D,t[4]=(e*F-i*I+a*S)*D,t[5]=(n*I-e*T-a*w)*D,t[6]=(y*E-v*b+m*_)*D,t[7]=(v*M-d*E-m*x)*D,t[8]=(d*b-y*M+m*g)*D,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t},i.multiplyScalarAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t[6]=r[6]+e[6]*n,t[7]=r[7]+e[7]*n,t[8]=r[8]+e[8]*n,t},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],l=t[7],c=t[8],f=r[0],p=r[1],d=r[2],y=r[3],v=r[4],m=r[5],g=t[6],x=r[7],M=r[8];return Math.abs(e-f)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-y)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-m)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-g)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(l-x)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(c-M)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))},t.exports=i},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var r=new n.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},i.fromValues=function(t,r,e){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=r,i[2]=e,i},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},i.set=function(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t},i.sub=i.subtract,i.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t},i.mul=i.multiply,i.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t},i.div=i.divide,i.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},i.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},i.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},i.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},i.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},i.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},i.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t},i.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return Math.sqrt(e*e+n*n+i*i)},i.dist=i.distance,i.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return e*e+n*n+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},i.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},i.normalize=function(t,r){var e=r[0],n=r[1],i=r[2],a=e*e+n*n+i*i;return 0<a&&(a=1/Math.sqrt(a),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a),t},i.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},i.cross=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],u=e[2];return t[0]=i*u-a*o,t[1]=a*s-n*u,t[2]=n*o-i*s,t},i.lerp=function(t,r,e,n){var i=r[0],a=r[1],s=r[2];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t},i.hermite=function(t,r,e,n,i,a){var s=a*a,o=s*(2*a-3)+1,u=s*(a-2)+a,h=s*(a-1),l=s*(3-2*a);return t[0]=r[0]*o+e[0]*u+n[0]*h+i[0]*l,t[1]=r[1]*o+e[1]*u+n[1]*h+i[1]*l,t[2]=r[2]*o+e[2]*u+n[2]*h+i[2]*l,t},i.bezier=function(t,r,e,n,i,a){var s=1-a,o=s*s,u=a*a,h=o*s,l=3*a*o,c=3*u*s,f=u*a;return t[0]=r[0]*h+e[0]*l+n[0]*c+i[0]*f,t[1]=r[1]*h+e[1]*l+n[1]*c+i[1]*f,t[2]=r[2]*h+e[2]*l+n[2]*c+i[2]*f,t},i.random=function(t,r){r=r||1;var e=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,a=Math.sqrt(1-i*i)*r;return t[0]=Math.cos(e)*a,t[1]=Math.sin(e)*a,t[2]=i*r,t},i.transformMat4=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[3]*n+e[7]*i+e[11]*a+e[15];return s=s||1,t[0]=(e[0]*n+e[4]*i+e[8]*a+e[12])/s,t[1]=(e[1]*n+e[5]*i+e[9]*a+e[13])/s,t[2]=(e[2]*n+e[6]*i+e[10]*a+e[14])/s,t},i.transformMat3=function(t,r,e){var n=r[0],i=r[1],a=r[2];return t[0]=n*e[0]+i*e[3]+a*e[6],t[1]=n*e[1]+i*e[4]+a*e[7],t[2]=n*e[2]+i*e[5]+a*e[8],t},i.transformQuat=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],u=e[2],h=e[3],l=h*n+o*a-u*i,c=h*i+u*n-s*a,f=h*a+s*i-o*n,p=-s*n-o*i-u*a;return t[0]=l*h+p*-s+c*-u-f*-o,t[1]=c*h+p*-o+f*-s-l*-u,t[2]=f*h+p*-u+l*-o-c*-s,t},i.rotateX=function(t,r,e,n){var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t},i.rotateY=function(t,r,e,n){
var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t},i.rotateZ=function(t,r,e,n){var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t},i.forEach=(function(){var t=i.create();return function(r,e,n,i,a,s){var o,u;for(e||(e=3),n||(n=0),u=i?Math.min(i*e+n,r.length):r.length,o=n;o<u;o+=e)t[0]=r[o],t[1]=r[o+1],t[2]=r[o+2],a(t,t,s),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2];return r}})(),i.angle=function(t,r){var e=i.fromValues(t[0],t[1],t[2]),n=i.fromValues(r[0],r[1],r[2]);i.normalize(e,e),i.normalize(n,n);var a=i.dot(e,n);return 1<a?0:Math.acos(a)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=r[0],o=r[1],u=r[2];return Math.abs(e-s)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},t.exports=i},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var r=new n.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},i.fromValues=function(t,r,e,i){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=r,a[2]=e,a[3]=i,a},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},i.set=function(t,r,e,n,i){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t},i.sub=i.subtract,i.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t},i.mul=i.multiply,i.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t},i.div=i.divide,i.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},i.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},i.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},i.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},i.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},i.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},i.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t},i.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(e*e+n*n+i*i+a*a)},i.dist=i.distance,i.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+i*i+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return Math.sqrt(r*r+e*e+n*n+i*i)},i.len=i.length,i.squaredLength=function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return r*r+e*e+n*n+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},i.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},i.normalize=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*e+n*n+i*i+a*a;return 0<s&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=n*s,t[2]=i*s,t[3]=a*s),t},i.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},i.lerp=function(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=r[3];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t[3]=o+n*(e[3]-o),t},i.random=function(t,r){return r=r||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),i.normalize(t,t),i.scale(t,t,r),t},i.transformMat4=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3];return t[0]=e[0]*n+e[4]*i+e[8]*a+e[12]*s,t[1]=e[1]*n+e[5]*i+e[9]*a+e[13]*s,t[2]=e[2]*n+e[6]*i+e[10]*a+e[14]*s,t[3]=e[3]*n+e[7]*i+e[11]*a+e[15]*s,t},i.transformQuat=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],u=e[2],h=e[3],l=h*n+o*a-u*i,c=h*i+u*n-s*a,f=h*a+s*i-o*n,p=-s*n-o*i-u*a;return t[0]=l*h+p*-s+c*-u-f*-o,t[1]=c*h+p*-o+f*-s-l*-u,t[2]=f*h+p*-u+l*-o-c*-s,t[3]=r[3],t},i.forEach=(function(){var t=i.create();return function(r,e,n,i,a,s){var o,u;for(e||(e=4),n||(n=0),u=i?Math.min(i*e+n,r.length):r.length,o=n;o<u;o+=e)t[0]=r[o],t[1]=r[o+1],t[2]=r[o+2],t[3]=r[o+3],a(t,t,s),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3];return r}})(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],o=r[0],u=r[1],h=r[2],l=r[3];return Math.abs(e-o)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-l)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))},t.exports=i},function(t,r,e){"use strict";function n(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],m=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],g=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function a(t,r,e){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(0>r||r>i||0>e||e>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[r,e],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,r,e,0,t.format,t.type,null),t._mipLevels=[0],t}function s(t,r,e,n,i,a){this.gl=t,this.handle=r,this.format=i,this.type=a,this._shape=[e,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,o=[this._wrapS,this._wrapT];Object.defineProperties(o,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=o;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=u}function o(t,r){return 3===t.length?1===r[2]&&r[1]===t[0]*t[2]&&r[0]===t[2]:1===r[0]&&r[1]===t[0]}function u(t,r,e,n,i,a,s,u){var h=u.dtype,l=u.shape.slice();if(2>l.length||3<l.length)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var c=0,f=0,v=o(l,u.stride.slice());if("float32"===h?c=t.FLOAT:"float64"===h?(c=t.FLOAT,v=!1,h="float32"):"uint8"===h?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,v=!1,h="uint8"),2===l.length)f=t.LUMINANCE,l=[l[0],l[1],1],u=p(u.data,l,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==l.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===l[2])f=t.ALPHA;else if(2===l[2])f=t.LUMINANCE_ALPHA;else if(3===l[2])f=t.RGB;else{if(4!==l[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}l[2]}if((f===t.LUMINANCE||f===t.ALPHA)&&(i===t.LUMINANCE||i===t.ALPHA)&&(f=i),f!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var m=u.size,g=0>s.indexOf(n);if(g&&s.push(n),c===a&&v)0===u.offset&&u.data.length===m?g?t.texImage2D(t.TEXTURE_2D,n,i,l[0],l[1],0,i,a,u.data):t.texSubImage2D(t.TEXTURE_2D,n,r,e,l[0],l[1],i,a,u.data):g?t.texImage2D(t.TEXTURE_2D,n,i,l[0],l[1],0,i,a,u.data.subarray(u.offset,u.offset+m)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,l[0],l[1],i,a,u.data.subarray(u.offset,u.offset+m));else{var M;M=a===t.FLOAT?y.mallocFloat32(m):y.mallocUint8(m);var _=p(M,l,[l[2],l[2]*l[0],1]);c===t.FLOAT&&a===t.UNSIGNED_BYTE?x(_,u):d.assign(_,u),g?t.texImage2D(t.TEXTURE_2D,n,i,l[0],l[1],0,i,a,M.subarray(0,m)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,l[0],l[1],i,a,M.subarray(0,m)),a===t.FLOAT?y.freeFloat32(M):y.freeUint8(M)}}function h(t){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r}function l(t,r,e,n,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(0>r||r>a||0>e||e>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=h(t);return t.texImage2D(t.TEXTURE_2D,0,n,r,e,0,n,i,null),new s(t,o,r,e,n,i)}function c(t,r,e,n,i,a){var o=h(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,r),new s(t,o,e,n,i,a)}function f(t,r){var e=r.dtype,n=r.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(0>n[0]||n[0]>i||0>n[1]||n[1]>i)throw new Error("gl-texture2d: Invalid texture size");var a=o(n,r.stride.slice()),u=0;"float32"===e?u=t.FLOAT:"float64"===e?(u=t.FLOAT,a=!1,e="float32"):"uint8"===e?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,a=!1,e="uint8");var l=0;if(2===n.length)l=t.LUMINANCE,n=[n[0],n[1],1],r=p(r.data,n,[r.stride[0],r.stride[1],1],r.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])l=t.ALPHA;else if(2===n[2])l=t.LUMINANCE_ALPHA;else if(3===n[2])l=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");l=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,a=!1);var c,f,v=r.size;if(a)c=0===r.offset&&r.data.length===v?r.data:r.data.subarray(r.offset,r.offset+v);else{var m=[n[2],n[2]*n[0],1];f=y.malloc(v,e);var g=p(f,n,m,0);"float32"!==e&&"float64"!==e||u!==t.UNSIGNED_BYTE?d.assign(g,r):x(g,r),c=f.subarray(0,v)}var M=h(t);return t.texImage2D(t.TEXTURE_2D,0,l,n[0],n[1],0,l,u,c),a||y.free(f),new s(t,M,n[0],n[1],l,u)}var p=e(210),d=e(209),y=e(223);t.exports=function(t){if(1>=arguments.length)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(t),"number"==typeof arguments[1])return l(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return l(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var r=arguments[1],e=i(r)?r:r.raw;if(e)return c(t,e,0|r.width,0|r.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(r.shape&&r.data&&r.stride)return f(t,r)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var v=null,m=null,g=null,x=function(t,r){d.muls(t,r,255)},M=s.prototype;Object.defineProperties(M,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&0<=v.indexOf(t)&&!r.getExtension("OES_texture_float_linear")&&(t=r.NEAREST),0>m.indexOf(t))throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&0<=v.indexOf(t)&&!r.getExtension("OES_texture_float_linear")&&(t=r.NEAREST),0>m.indexOf(t))throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var r=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),r!==this._anisoSamples){var e=this.gl.getExtension("EXT_texture_filter_anisotropic");e&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),0>g.indexOf(t))throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),0>g.indexOf(t))throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var r=0;2>r;++r)if(0>g.indexOf(t[r]))throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var e=this.gl;return this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return a(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,a(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,a(this,this._shape[0],t),t}}}),M.bind=function(t){var r=this.gl;return void 0!==t&&r.activeTexture(r.TEXTURE0+(0|t)),r.bindTexture(r.TEXTURE_2D,this.handle),void 0===t?r.getParameter(r.ACTIVE_TEXTURE)-r.TEXTURE0:0|t},M.dispose=function(){this.gl.deleteTexture(this.handle)},M.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),r=0;0<t;++r,t>>>=1)0>this._mipLevels.indexOf(r)&&this._mipLevels.push(r)},M.setPixels=function(t,r,e,n){var a=this.gl;this.bind(),Array.isArray(r)?(n=e,e=0|r[1],r=0|r[0]):(r=r||0,e=e||0),n=n||0;var s=i(t)?t:t.raw;if(s){var o=0>this._mipLevels.indexOf(n);o?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,s),this._mipLevels.push(n)):a.texSubImage2D(a.TEXTURE_2D,n,r,e,this.format,this.type,s)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(2>t.shape.length||r+t.shape[1]>this._shape[1]>>>n||e+t.shape[0]>this._shape[0]>>>n||0>r||0>e)throw new Error("gl-texture2d: Texture dimensions are out of bounds");u(a,r,e,n,this.format,this.type,this._mipLevels,t)}}},function(t,r,e){"use strict";function n(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}var i=e(135),a=e(114);e.d(r,"a",(function(){return n})),n.prototype={constructor:n,isMatrix4:!0,set:function(t,r,e,n,i,a,s,o,u,h,l,c,f,p,d,y){var v=this.elements;return v[0]=t,v[4]=r,v[8]=e,v[12]=n,v[1]=i,v[5]=a,v[9]=s,v[13]=o,v[2]=u,v[6]=h,v[10]=l,v[14]=c,v[3]=f,v[7]=p,v[11]=d,v[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var r=this.elements,e=t.elements;return r[12]=e[12],r[13]=e[13],r[14]=e[14],this},extractBasis:function(t,r,e){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),e.setFromMatrixColumn(this,2),this},makeBasis:function(t,r,e){return this.set(t.x,r.x,e.x,0,t.y,r.y,e.y,0,t.z,r.z,e.z,0,0,0,0,1),this},extractRotation:(function(){var t;return function(r){void 0==t&&(t=new a.a);var e=this.elements,n=r.elements,i=1/t.setFromMatrixColumn(r,0).length(),s=1/t.setFromMatrixColumn(r,1).length(),o=1/t.setFromMatrixColumn(r,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,this}})(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=this.elements,e=t.x,n=t.y,i=t.z,a=Math.cos(e),s=Math.sin(e),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var c=a*h,f=a*l,p=s*h,d=s*l;r[0]=o*h,r[4]=-o*l,r[8]=u,r[1]=f+p*u,r[5]=c-d*u,r[9]=-s*o,r[2]=d-c*u,r[6]=p+f*u,r[10]=a*o}else if("YXZ"===t.order){var y=o*h,v=o*l,m=u*h,g=u*l;r[0]=y+g*s,r[4]=m*s-v,r[8]=a*u,r[1]=a*l,r[5]=a*h,r[9]=-s,r[2]=v*s-m,r[6]=g+y*s,r[10]=a*o}else if("ZXY"===t.order){var y=o*h,v=o*l,m=u*h,g=u*l;r[0]=y-g*s,r[4]=-a*l,r[8]=m+v*s,r[1]=v+m*s,r[5]=a*h,r[9]=g-y*s,r[2]=-a*u,r[6]=s,r[10]=a*o}else if("ZYX"===t.order){var c=a*h,f=a*l,p=s*h,d=s*l;r[0]=o*h,r[4]=p*u-f,r[8]=c*u+d,r[1]=o*l,r[5]=d*u+c,r[9]=f*u-p,r[2]=-u,r[6]=s*o,r[10]=a*o}else if("YZX"===t.order){var x=a*o,M=a*u,_=s*o,b=s*u;r[0]=o*h,r[4]=b-x*l,r[8]=_*l+M,r[1]=l,r[5]=a*h,r[9]=-s*h,r[2]=-u*h,r[6]=M*l+_,r[10]=x-b*l}else if("XZY"===t.order){var x=a*o,M=a*u,_=s*o,b=s*u;r[0]=o*h,r[4]=-l,r[8]=u*h,r[1]=x*l+b,r[5]=a*h,r[9]=M*l-_,r[2]=_*l-M,r[6]=s*h,r[10]=b*l+x}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(t){var r=this.elements,e=t.x,n=t.y,i=t.z,a=t.w,s=e+e,o=n+n,u=i+i,h=e*s,l=e*o,c=e*u,f=n*o,p=n*u,d=i*u,y=a*s,v=a*o,m=a*u;return r[0]=1-(f+d),r[4]=l-m,r[8]=c+v,r[1]=l+m,r[5]=1-(h+d),r[9]=p-y,r[2]=c-v,r[6]=p+y,r[10]=1-(h+f),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},lookAt:(function(){var t,r,e;return function(n,i,s){void 0==t&&(t=new a.a,r=new a.a,e=new a.a);var o=this.elements;return e.subVectors(n,i).normalize(),0===e.lengthSq()&&(e.z=1),t.crossVectors(s,e).normalize(),0===t.lengthSq()&&(e.z+=1e-4,t.crossVectors(s,e).normalize()),r.crossVectors(e,t),o[0]=t.x,o[4]=r.x,o[8]=e.x,o[1]=t.y,o[5]=r.y,o[9]=e.y,o[2]=t.z,o[6]=r.z,o[10]=e.z,this}})(),multiply:function(t,r){return void 0===r?this.multiplyMatrices(this,t):(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,r))},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,r){var e=t.elements,n=r.elements,i=this.elements,a=e[0],s=e[4],o=e[8],u=e[12],h=e[1],l=e[5],c=e[9],f=e[13],p=e[2],d=e[6],y=e[10],v=e[14],m=e[3],g=e[7],x=e[11],M=e[15],_=n[0],b=n[4],E=n[8],w=n[12],S=n[1],I=n[5],A=n[9],T=n[13],F=n[2],D=n[6],R=n[10],z=n[14],P=n[3],N=n[7],U=n[11],C=n[15];return i[0]=a*_+s*S+o*F+u*P,i[4]=a*b+s*I+o*D+u*N,i[8]=a*E+s*A+o*R+u*U,i[12]=a*w+s*T+o*z+u*C,i[1]=h*_+l*S+c*F+f*P,i[5]=h*b+l*I+c*D+f*N,i[9]=h*E+l*A+c*R+f*U,i[13]=h*w+l*T+c*z+f*C,i[2]=p*_+d*S+y*F+v*P,i[6]=p*b+d*I+y*D+v*N,i[10]=p*E+d*A+y*R+v*U,i[14]=p*w+d*T+y*z+v*C,i[3]=m*_+g*S+x*F+M*P,i[7]=m*b+g*I+x*D+M*N,i[11]=m*E+g*A+x*R+M*U,i[15]=m*w+g*T+x*z+M*C,this},multiplyToArray:function(t,r,e){var n=this.elements;return this.multiplyMatrices(t,r),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this},applyToVector3Array:(function(){var t;return function(r,e,n){void 0==t&&(t=new a.a),void 0===e&&(e=0),void 0===n&&(n=r.length);for(var i=0,s=e;i<n;i+=3,s+=3)t.fromArray(r,s),t.applyMatrix4(this),t.toArray(r,s);return r}})(),applyToBufferAttribute:(function(){var t;return function(r){void 0==t&&(t=new a.a);for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix4(this),r.setXYZ(e,t.x,t.y,t.z);return r}})(),determinant:function(){var t=this.elements,r=t[0],e=t[4],n=t[8],i=t[12],a=t[1],s=t[5],o=t[9],u=t[13],h=t[2],l=t[6],c=t[10],f=t[14],p=t[3],d=t[7],y=t[11],v=t[15];return p*(+i*o*l-n*u*l-i*s*c+e*u*c+n*s*f-e*o*f)+d*(+r*o*f-r*u*c+i*a*c-n*a*f+n*u*h-i*o*h)+y*(+r*u*l-r*s*f-i*a*l+e*a*f+i*s*h-e*u*h)+v*(-n*s*h-r*o*l+r*s*c+n*a*l-e*a*c+e*o*h)},transpose:function(){var t=this.elements,r=t[1];return t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this},setPosition:function(t){var r=this.elements;return r[12]=t.x,r[13]=t.y,r[14]=t.z,this},getInverse:function(t,r){var e=this.elements,n=t.elements,i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],h=n[5],l=n[6],c=n[7],f=n[8],p=n[9],d=n[10],y=n[11],v=n[12],m=n[13],g=n[14],x=n[15],M=p*g*c-m*d*c+m*l*y-h*g*y-p*l*x+h*d*x,_=v*d*c-f*g*c-v*l*y+u*g*y+f*l*x-u*d*x,b=f*m*c-v*p*c+v*h*y-u*m*y-f*h*x+u*p*x,E=v*p*l-f*m*l-v*h*d+u*m*d+f*h*g-u*p*g,w=i*M+a*_+s*b+o*E;if(0==w){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===r)throw new Error(S);return console.warn(S),this.identity()}var I=1/w;return e[0]=M*I,e[1]=(m*d*o-p*g*o-m*s*y+a*g*y+p*s*x-a*d*x)*I,e[2]=(h*g*o-m*l*o+m*s*c-a*g*c-h*s*x+a*l*x)*I,e[3]=(p*l*o-h*d*o-p*s*c+a*d*c+h*s*y-a*l*y)*I,e[4]=_*I,e[5]=(f*g*o-v*d*o+v*s*y-i*g*y-f*s*x+i*d*x)*I,e[6]=(v*l*o-u*g*o-v*s*c+i*g*c+u*s*x-i*l*x)*I,e[7]=(u*d*o-f*l*o+f*s*c-i*d*c-u*s*y+i*l*y)*I,e[8]=b*I,e[9]=(v*p*o-f*m*o-v*a*y+i*m*y+f*a*x-i*p*x)*I,e[10]=(u*m*o-v*h*o+v*a*c-i*m*c-u*a*x+i*h*x)*I,e[11]=(f*h*o-u*p*o-f*a*c+i*p*c+u*a*y-i*h*y)*I,e[12]=E*I,e[13]=(f*m*s-v*p*s+v*a*d-i*m*d-f*a*g+i*p*g)*I,e[14]=(v*h*s-u*m*s-v*a*l+i*m*l+u*a*g-i*h*g)*I,e[15]=(u*p*s-f*h*s+f*a*l-i*p*l-u*a*d+i*h*d)*I,this},scale:function(t){var r=this.elements,e=t.x,n=t.y,i=t.z;return r[0]*=e,r[4]*=n,r[8]*=i,r[1]*=e,r[5]*=n,r[9]*=i,r[2]*=e,r[6]*=n,r[10]*=i,r[3]*=e,r[7]*=n,r[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],e=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,e,n))},makeTranslation:function(t,r,e){return this.set(1,0,0,t,0,1,0,r,0,0,1,e,0,0,0,1),this},makeRotationX:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(1,0,0,0,0,r,-e,0,0,e,r,0,0,0,0,1),this},makeRotationY:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,0,e,0,0,1,0,0,-e,0,r,0,0,0,0,1),this},makeRotationZ:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,-e,0,0,e,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=1-e,a=t.x,s=t.y,o=t.z,u=i*a,h=i*s;return this.set(u*a+e,u*s-n*o,u*o+n*s,0,u*s+n*o,h*s+e,h*o-n*a,0,u*o-n*s,h*o+n*a,i*o*o+e,0,0,0,0,1),this},makeScale:function(t,r,e){return this.set(t,0,0,0,0,r,0,0,0,0,e,0,0,0,0,1),this},makeShear:function(t,r,e){return this.set(1,r,e,0,t,1,e,0,t,r,1,0,0,0,0,1),this},compose:function(t,r,e){return this.makeRotationFromQuaternion(r),this.scale(e),this.setPosition(t),this},decompose:(function(){var t,r;return function(e,i,s){void 0==t&&(t=new a.a,r=new n);var o=this.elements,u=t.set(o[0],o[1],o[2]).length(),h=t.set(o[4],o[5],o[6]).length(),l=t.set(o[8],o[9],o[10]).length(),c=this.determinant();0>c&&(u=-u),e.x=o[12],e.y=o[13],e.z=o[14],r.elements.set(this.elements);var f=1/u,p=1/h,d=1/l;return r.elements[0]*=f,r.elements[1]*=f,r.elements[2]*=f,r.elements[4]*=p,r.elements[5]*=p,r.elements[6]*=p,r.elements[8]*=d,r.elements[9]*=d,r.elements[10]*=d,i.setFromRotationMatrix(r),s.x=u,s.y=h,s.z=l,this}})(),makeFrustum:function(t,r,e,n,i,a){var s=this.elements;return s[0]=2*i/(r-t),s[4]=0,s[8]=(r+t)/(r-t),s[12]=0,s[1]=0,s[5]=2*i/(n-e),s[9]=(n+e)/(n-e),s[13]=0,s[2]=0,s[6]=0,s[10]=-(a+i)/(a-i),s[14]=-2*a*i/(a-i),s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makePerspective:function(t,r,e,n){var a=e*Math.tan(.5*(i.a.DEG2RAD*t)),s=-a;return this.makeFrustum(s*r,a*r,s,a,e,n)},makeOrthographic:function(t,r,e,n,i,a){var s=this.elements,o=1/(r-t),u=1/(e-n),h=1/(a-i);return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-((r+t)*o),s[1]=0,s[5]=2*u,s[9]=0,s[13]=-((e+n)*u),s[2]=0,s[6]=0,s[10]=-2*h,s[14]=-((a+i)*h),s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var r=this.elements,e=t.elements,n=0;16>n;n++)if(r[n]!==e[n])return!1;return!0},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;16>e;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t[r+9]=e[9],t[r+10]=e[10],t[r+11]=e[11],t[r+12]=e[12],t[r+13]=e[13],t[r+14]=e[14],t[r+15]=e[15],t}}},function(t,r,e){"use strict";function n(t,r){this.x=t||0,this.y=r||0}e.d(r,"a",(function(){return n})),n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,r){return this.x=t,this.y=r,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,r){return void 0===r?(this.x+=t.x,this.y+=t.y,this):(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r))},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this},sub:function(t,r){return void 0===r?(this.x-=t.x,this.y-=t.y,this):(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r))},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this},clampScalar:(function(){var t,r;return function(e,i){return void 0==t&&(t=new n,r=new n),t.set(e,e),r.set(i,i),this.clamp(t,r)}})(),clampLength:function(t,r){var e=this.length();return this.multiplyScalar(Math.max(t,Math.min(r,e))/e)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return 0>t&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y;return r*r+e*e},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t},fromAttribute:function(t,r,e){return void 0!==e&&console.warn("THREE.Vector2: offset has been removed from .fromAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this},rotateAround:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=this.x-t.x,a=this.y-t.y;return this.x=i*e-a*n+t.x,this.y=i*n+a*e+t.y,this}}},function(t,r,e){"use strict";function n(t,r,e,i,h,l,c,f,p,d){Object.defineProperty(this,"id",{value:u++}),this.uuid=s.a.generateUUID(),this.name="",this.image=void 0===t?n.DEFAULT_IMAGE:t,this.mipmaps=[],this.mapping=void 0===r?n.DEFAULT_MAPPING:r,this.wrapS=void 0===e?a.a:e,this.wrapT=void 0===i?a.a:i,this.magFilter=void 0===h?a.b:h,this.minFilter=void 0===l?a.c:l,this.anisotropy=void 0===p?1:p,this.format=void 0===c?a.d:c,this.type=void 0===f?a.e:f,this.offset=new o.a(0,0),this.repeat=new o.a(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0===d?a.f:d,this.version=0,this.onUpdate=null}var i=e(218),a=e(134),s=e(135),o=e(151);e.d(r,"a",(function(){return n}));var u=0;n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=a.g,n.prototype={constructor:n,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function r(t){var r;return void 0===t.toDataURL?(r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0,t.width,t.height)):r=t,2048<r.width||2048<r.height?r.toDataURL("image/jpeg",.6):r.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=s.a.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:r(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===a.g){if(t.multiply(this.repeat),t.add(this.offset),0>t.x||1<t.x)switch(this.wrapS){case a.h:t.x=t.x-Math.floor(t.x);break;case a.a:t.x=0>t.x?0:1;break;case a.i:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(0>t.y||1<t.y)switch(this.wrapT){case a.h:t.y=t.y-Math.floor(t.y);break;case a.a:t.y=0>t.y?0:1;break;case a.i:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(n.prototype,i.a.prototype)},function(t){var r=(function(){return this})();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,r,e){"use strict";var n=e(52),i=e.n(n),a=e(112),s=e.n(a),o=e(53),u=e.n(o),h=e(60),l=e.n(h),c=e(113),f=e.n(c),p=e(1),d=e.n(p),y=e(25),v=e.n(y),m=e(24),g=e.n(m),x=e(107);e.n(x);var M=(function(t){function r(){var e;d()(this,r);var n=v()(this,t.call(this,9));return x.mat3.identity(n),e=n,v()(n,e)}return g()(r,t),r.prototype.set=function(t,r,e,n,i,a,s,o,u){return x.mat3.set(this,t,r,e,n,i,a,s,o,u),this},r.prototype.translate=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;
return x.mat3.translate(this,r,t),this},r.prototype.rotate=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return x.mat3.rotateX(this,r,t),this},r.prototype.scale=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return x.mat3.scale(this,r,t),this},r.prototype.multiply=function(t,r){return r?x.mat3.multiply(this,t,r):x.mat3.multiply(this,this,t),this},r.prototype.identity=function(){return x.mat3.identity(this),this},r.prototype.copy=function(t){return x.mat3.copy(this,t),this},r.prototype.fromMatrix4=function(t){return x.mat3.fromMat4(this,t),this},r.prototype.fromQuaternion=function(t){return x.mat3.fromQuat(this,t),this},r.prototype.fromBasis=function(t,r,e){return this.set(t[0],t[1],t[2],r[0],r[1],r[2],e[0],e[1],e[2]),this},r.prototype.invert=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this;return x.mat3.invert(this,t),this},r})(function(t){function r(){var r=f()(t,l()(arguments));return u()(r,s()(this)),r}return r.prototype=i()(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u.a?u()(r,t):r.__proto__=t,r}(Float32Array));r.a=M},function(t,r,e){"use strict";var n=e(52),i=e.n(n),a=e(112),s=e.n(a),o=e(53),u=e.n(o),h=e(60),l=e.n(h),c=e(113),f=e.n(c),p=e(1),d=e.n(p),y=e(49),v=e.n(y),m=e(25),g=e.n(m),x=e(24),M=e.n(x),_=e(107);e.n(_);var b=(function(t){function r(e){var n;d()(this,r);var i=g()(this,t.call(this,16));return e?i.copy(e):i.identity(),n=i,g()(i,n)}return M()(r,t),r.prototype.copy=function(t){return _.mat4.copy(this,t),this},r.prototype.set=function(t,r,e,n,i,a,s,o,u,h,l,c,f,p,d,y){return _.mat4.set(this,t,r,e,n,i,a,s,o,u,h,l,c,f,p,d,y),this},r.prototype.translate=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return _.mat4.translate(this,r,t),this},r.prototype.rotateX=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return _.mat4.rotateX(this,r,t),this},r.prototype.rotateY=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return _.mat4.rotateY(this,r,t),this},r.prototype.rotateZ=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return _.mat4.rotateZ(this,r,t),this},r.prototype.scale=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;return _.mat4.scale(this,r,t),this},r.prototype.multiply=function(t,r){return r?_.mat4.multiply(this,t,r):_.mat4.multiply(this,this,t),this},r.prototype.perspective=function(t,r,e,n){return _.mat4.perspective(this,t,r,e,n),this},r.prototype.identity=function(){return _.mat4.identity(this),this},r.prototype.copy=function(t){return _.mat4.copy(this,t),this},r.prototype.fromQuaternion=function(t){return _.mat4.fromQuat(this,t),this},r.prototype.setPosition=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},r.prototype.invert=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this;return _.mat4.invert(this,t),this},v()(r,[{key:"x",set:function(t){this[12]=t},get:function(){return this[12]}},{key:"y",set:function(t){this[13]=t},get:function(){return this[13]}},{key:"z",set:function(t){this[14]=t},get:function(){return this[14]}},{key:"w",set:function(t){this[15]=t},get:function(){return this[15]}}]),r})(function(t){function r(){var r=f()(t,l()(arguments));return u()(r,s()(this)),r}return r.prototype=i()(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u.a?u()(r,t):r.__proto__=t,r}(Float32Array));t.exports=b,t.exports.default=b},function(t,r,e){"use strict";var n=e(52),i=e.n(n),a=e(112),s=e.n(a),o=e(53),u=e.n(o),h=e(60),l=e.n(h),c=e(113),f=e.n(c),p=e(1),d=e.n(p),y=e(49),v=e.n(y),m=e(25),g=e.n(m),x=e(24),M=e.n(x),_=e(107);e.n(_);var b=(function(t){function r(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;d()(this,r);var o=g()(this,t.call(this,4));return o.set(n,i,a,s),e=o,g()(o,e)}return M()(r,t),r.prototype.set=function(t,r,e,n){return _.vec4.set(this,t,r,e,n),this},v()(r,[{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}},{key:"z",get:function(){return this.elements[2]},set:function(t){this.elements[2]=t}},{key:"w",get:function(){return this.elements[3]},set:function(t){this.elements[3]=t}}]),r})(function(t){function r(){var r=f()(t,l()(arguments));return u()(r,s()(this)),r}return r.prototype=i()(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u.a?u()(r,t):r.__proto__=t,r}(Float32Array));r.a=b},function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(49),s=e.n(a),o=e(136),u=e(137),h=(function(){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.position,n=void 0===e?new u.a:e,a=r.velocity,s=void 0===a?n instanceof o.a?new o.a:new u.a:a,h=r.life,l=void 0===h?1/0:h;return i()(this,t),this.position=n,this.velocity=s,this.life=l,this.reset(),this}return t.prototype.set=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.position,e=void 0===r?this.position:r,n=t.life,i=void 0===n?this.life:n;return this.position.copy(e),this.life=i,this},t.prototype.reset=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.position,e=t.life;return this.set({position:r,life:e}),this.currentLife=this.life,this.dead=!1,this},t.prototype.copy=function(t){this.position.copy(t.position),this.velocity.copy(t.velocity),this.life=t.life,this.currentLife=t.currentLife,this.dead=t.dead},t.prototype.update=function(){return this.dead?this:(this.position.add(this.velocity),this.currentLife--,1>this.currentLife&&(this.dead=!0),this)},s()(t,[{key:"x",get:function(){return this.position.x},set:function(t){this.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y=t}},{key:"z",get:function(){return this.position.z},set:function(t){this.position.z=t}}]),t})();r.a=h},function(t,r,e){"use strict";var n=e(1),i=e.n(n);!(function(){function t(){i()(this,t)}return t.vertex=function(){return"\n      varying vec2 v_rgbNW;\n      varying vec2 v_rgbNE;\n      varying vec2 v_rgbSW;\n      varying vec2 v_rgbSE;\n      varying vec2 v_rgbM;\n\n      void computeFXAATextureCoordinates(vec2 uv, vec2 resolution) {\n        vec2 inverseVP = 1.0 / resolution.xy;\n        vec2 fragCoord = uv * resolution;\n        v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n        v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n        v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n        v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n        v_rgbM = vec2(fragCoord * inverseVP);\n      }\n    "},t.fragment=function(){return"\n      varying vec2 v_rgbNW;\n      varying vec2 v_rgbNE;\n      varying vec2 v_rgbSW;\n      varying vec2 v_rgbSE;\n      varying vec2 v_rgbM;\n\n      #ifndef FXAA_REDUCE_MIN\n      #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n      #endif\n      #ifndef FXAA_REDUCE_MUL\n      #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n      #endif\n      #ifndef FXAA_SPAN_MAX\n      #define FXAA_SPAN_MAX     8.0\n      #endif\n\n      vec4 fxaa(sampler2D tex, vec2 uv, vec2 resolution) {\n        vec4 color;\n        vec2 fragCoord = uv * resolution;\n        mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n        vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n        vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n        vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n        vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n        vec4 texColor = texture2D(tex, v_rgbM);\n        vec3 rgbM  = texColor.xyz;\n        vec3 luma = vec3(0.299, 0.587, 0.114);\n        float lumaNW = dot(rgbNW, luma);\n        float lumaNE = dot(rgbNE, luma);\n        float lumaSW = dot(rgbSW, luma);\n        float lumaSE = dot(rgbSE, luma);\n        float lumaM  = dot(rgbM,  luma);\n        float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n        float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n        mediump vec2 dir;\n        dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n        dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n        float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n        float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n        dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n        max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n        dir * rcpDirMin)) * inverseVP;\n\n        vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n        vec3 rgbB = rgbA * 0.5 + 0.25 * (\n          texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n          texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n        float lumaB = dot(rgbB, luma);\n        if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n        else\n        color = vec4(rgbB, texColor.a);\n        return color;\n      }\n    "},t})()},function(t,r,e){"use strict";var n=e(111),i=e.n(n),a=e(140),s=e.n(a),o=e(1),u=e.n(o),h=e(25),l=e.n(h),c=e(24),f=e.n(c),p=e(17),d=e(138),y=(function(t){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u()(this,r);var n=e.type||"";delete e.type;var i=e.vertexShaderChunks;delete e.vertexShaderChunks;var a=e.fragmentShaderChunks;delete e.fragmentShaderChunks;var o=e.uniforms;delete e.uniforms;var h=new d.a(p.ShaderLib[n]?{vertexShader:p.ShaderLib[n].vertexShader,fragmentShader:p.ShaderLib[n].fragmentShader,uniforms:p.UniformsUtils.clone(p.ShaderLib[n].uniforms)}:void 0),c=l()(this,t.call(this,s()({fragmentShader:h.fragmentShader,vertexShader:h.vertexShader,uniforms:h.uniforms},e)));return c._shader=h,c.add({vertexShaderChunks:i,fragmentShaderChunks:a,uniforms:o}),c.lights=/lambert|phong|standard/.test(n),c}return f()(r,t),r.prototype.add=function(t){var r=this,e=t.vertexShaderChunks,n=t.fragmentShaderChunks,a=t.uniforms;this._shader.add({vertexShaderChunks:e,fragmentShaderChunks:n,uniforms:a}),this.fragmentShader=this._shader.fragmentShader,this.vertexShader=this._shader.vertexShader;var s=function(t){i()(r,t,{configurable:!0,get:function(){return this.uniforms[t].value},set:function(r){this.uniforms[t].value=r}})};for(var o in this._shader.uniforms)s(o);this.update()},r})(p.ShaderMaterial);r.a=y},function(t,r,e){"use strict";var n=e(170),i=e.n(n),a=e(38),s=e.n(a),o=e(1),u=e.n(o),h=e(25),l=e.n(h),c=e(24),f=e.n(c),p=(function(t){function r(){return u()(this,r),l()(this,t.call(this))}return f()(r,t),r.prototype.dispatch=function(t){for(var r=this,e=Array.isArray(r),n=0,r=e?r:s()(r);;){var i;if(e){if(n>=r.length)break;i=r[n++]}else{if(n=r.next(),n.done)break;i=n.value}var a=i;a(t)}},r})(i.a);r.a=p},function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(25),s=e.n(a),o=e(24),u=e.n(o),h=e(160),l=(function(t){function r(){i()(this,r);var e=s()(this,t.call(this));return e._updateBinded=e.update.bind(e),e._previousTimestamp=0,e.deltaTime=0,e.timeScale=1,e.update(),e}return u()(r,t),r.prototype.update=function(t){requestAnimationFrame(this._updateBinded);var r=window.performance?window.performance.now():Date.now();this.deltaTime=.001*(r-this._previousTimestamp),this.timeScale=this.deltaTime/.0166666667,this._previousTimestamp=r,this.dispatch(t)},r})(h.a);r.a=new l},function(t,r,e){"use strict";var n=e(38),i=e.n(n),a=e(1),s=e.n(a),o=e(49),u=e.n(o),h=e(199),l=e.n(h),c=e(117),f=(function(){function t(r,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=i.useFloat,o=void 0!==a&&a,u=i.buffersNumber,h=void 0===u?1:u,f=i.depth,p=void 0===f||f,d=i.stencil,y=void 0!==d&&d;s()(this,t),this._stackglFramebuffer=l()(r,[e,n],{float:o,color:h,depth:p,stencil:y});for(var v=0;v<this._stackglFramebuffer.color.length;v++){var m=this._stackglFramebuffer.color[v],g=new c.a(r,m.width,m.height,m.format,m.type);g._stackglTexture2D.handle=m.handle,g.magFilter=m.magFilter,g.minFilter=m.minFilter,g.mipSamples=m.mipSamples,this._stackglFramebuffer.color[v]=g}}return t.prototype.bind=function(){this._stackglFramebuffer.bind()},t.prototype.dispose=function(){this._stackglFramebuffer.dispose()},u()(t,[{key:"gl",get:function(){return this._stackglFramebuffer.gl}},{key:"webGLFramebuffer",get:function(){return this._stackglFramebuffer.handle}},{key:"width",get:function(){return this._stackglFramebuffer.width},set:function(t){for(var r=this.colors,e=Array.isArray(r),n=0,r=e?r:i()(r);;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if(n=r.next(),n.done)break;a=n.value}var s=a;s.width=t}this.depth&&(this.depth.width=t),this._stackglFramebuffer.shape=[t,this.height]}},{key:"height",get:function(){return this._stackglFramebuffer.height},set:function(t){for(var r=this.colors,e=Array.isArray(r),n=0,r=e?r:i()(r);;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if(n=r.next(),n.done)break;a=n.value}var s=a;s.height=t}this.depth&&(this.depth.height=t),this._stackglFramebuffer.shape=[this.width,t]}},{key:"colors",get:function(){return this._stackglFramebuffer.color}},{key:"depth",get:function(){return this._stackglFramebuffer.depth}}]),t})();r.a=f},function(t,r,e){"use strict";var n=e(140),i=e.n(n),a=e(139),s=e.n(a),o=e(38),u=e.n(o),h=e(1),l=e.n(h),c=e(136),f=e(137),p=e(156),d=e(154),y=e(155),v=e(117),m=e(164),g=(function(){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.vertexShader,n=void 0===e?"\n    void main() {\n      gl_Position = vec4(0.);\n    }\n  ":e,i=r.fragmentShader,a=void 0===i?"\n    void main() {\n      gl_FragColor = vec4(1.);\n    }\n  ":i,s=r.uniforms,o=void 0===s?{}:s,u=r.attributes,h=void 0===u?{}:u;l()(this,t),this.vertexShader=n,this.fragmentShader=a,this.uniforms=o,this.attributes=h,this.parseQualifiers()}return t.add=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"void main() {}",r=arguments[1],e=r,n=Array.isArray(e),i=0,e=n?e:u()(e);;){var a;if(n){if(i>=e.length)break;a=e[i++]}else{if(i=e.next(),i.done)break;a=i.value}var s=a,o=s[0],h=s[1];t="start"===o?h+"\n"+t:"end"===o?t.replace(/(}\s*$)/,"\n"+h+"\n$1"):"main"===o?t.replace(/(\bvoid\b +\bmain\b[\s\S]*?{\s*)/,"$1\n"+h+"\n"):t.replace(o,h)}return t},t.prototype.add=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.vertexShaderChunks,n=void 0===e?new s.a:e,a=r.fragmentShaderChunks,o=void 0===a?new s.a:a,u=r.uniforms,h=void 0===u?{}:u,l=r.attributes,c=void 0===l?{}:l;this.vertexShader=t.add(this.vertexShader,n),this.fragmentShader=t.add(this.fragmentShader,o),i()(this.uniforms,h),i()(this.attributes,c),this.parseQualifiers()},t.prototype.parseQualifiers=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.classes;r=i()({Vector2:c.a,Vector3:f.a,Vector4:p.a,Matrix3:d.a,Matrix4:y.default,TextureCube:m.a,Texture2D:v.a},r);for(var e="\n      "+this.vertexShader+"\n      "+this.fragmentShader+"\n    ",n=/^\s*(uniform|attribute) (.[^ ]+) (.[^ ;\[\]]+)\[? *(\d+)? *\]?/gm,a=void 0;a=n.exec(e);){var s=a,o=s[1],u=s[2],h=s[3],l=s[4],g=parseInt(l),x=this[o+"s"];if(x||(x=this[o+"s"]={}),!x[h]){var M=void 0,_=void 0;/float|double/.test(u)?M=isNaN(g)?0:Array(g).fill(0):/int|uint/.test(u)?M=isNaN(g)?0:Array(g).fill(0):/sampler2D/.test(u)?M=isNaN(g)?new r.Texture2D:Array(g).fill().map((function(){return new r.Texture2D})):/samplerCube/.test(u)?M=isNaN(g)?new r.TextureCube:Array(g).fill().map((function(){return new r.TextureCube})):(_=/(.?)vec(\d)/.exec(u))?(function(){var t=_[2];M=isNaN(g)?new r["Vector"+t]:Array(g).fill().map((function(){return new r["Vector"+t]}))})():(_=/mat(\d)/.exec(u))?(function(){var t=_[1];M=isNaN(g)?new r["Matrix"+t]:Array(g).fill().map((function(){return new r["Matrix"+t]}))})():M=null,x[h]=M}}},t})();r.a=g},function(t,r,e){"use strict";var n=e(38),i=e.n(n),a=e(1),s=e.n(a),o=e(25),u=e.n(o),h=e(24),l=e.n(h),c=e(162),f=e(117),p=e(205),d=e.n(p),y=(function(t){function r(e,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.RGBA,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.UNSIGNED_BYTE;s()(this,r);var h=n,l=n[0]instanceof f.a||n[0]instanceof c.a;if(l){var p=document.createElement("canvas");p.width=1,p.height=1,h=[,,,,,,].fill(p)}var d=u()(this,t.call(this,e,{pos:{x:h[0],y:h[1],z:h[2]},neg:{x:h[3],y:h[4],z:h[5]}},a,o));if(l)for(var y=[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Z].entries(),v=Array.isArray(y),m=0,y=v?y:i()(y);;){var g;if(v){if(m>=y.length)break;g=y[m++]}else{if(m=y.next(),m.done)break;g=m.value}var x=g,M=x[0],_=x[1];n[M].bind(),e.copyTexImage2D(_,0,a,0,0,.5*n[M].width,.5*n[M].height,0)}return d}return l()(r,t),r})(d.a);r.a=y},function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(17),s=e(212);e.n(s);var o=e(215);e.n(o);var u=e(213);e.n(u);var h=e(214);e.n(h);var l=e(217);e.n(l);var c=e(211);e.n(c);var f=e(216);e.n(f),e(138),e(158);var p=(function(){function t(r){i()(this,t),this.renderer=new a.WebGLRenderer({canvas:r,alpha:!0})}return t.prototype.resize=function(t,r){t*=window.devicePixelRatio,r*=window.devicePixelRatio,this.renderer.setSize(t,r,!1)},t.prototype.render=function(t){this.renderer.render(t,t.camera)},t})();r.a=p},function(t,r,e){"use strict";var n=e(1),i=e.n(n),a=e(25),s=e.n(a),o=e(24),u=e.n(o),h=e(17),l=e(168),c=(function(t){function r(e){e.canvas,i()(this,r);var n=s()(this,t.call(this));return n.camera=new h.PerspectiveCamera(65,window.innerWidth/window.innerHeight,.1,1e4),n.camera.position.z=5,n.fireworks=new l.a,n.add(n.fireworks),n}return u()(r,t),r.prototype.resize=function(t,r){this.camera.aspect=t/r,this.camera.updateProjectionMatrix()},r.prototype.update=function(){this.fireworks.update()},r})(h.Scene);r.a=c},function(t,r,e){"use strict";var n=e(139),i=e.n(n),a=e(1),s=e.n(a),o=e(25),u=e.n(o),h=e(24),l=e.n(h),c=e(17),f=e(159),p=e(157),d=1e3,y=void 0;!(function(){var t=document.createElement("canvas");t.width=64,t.height=64;var r=t.getContext("2d"),e=r.createRadialGradient(32,32,32,32,32,0);e.addColorStop(0,"rgba(255, 255, 255, 0)"),e.addColorStop(.25,"rgba(255, 255, 255, 1)"),r.fillStyle=e,r.fillRect(0,0,64,64),y=new c.Texture(t),y.needsUpdate=!0})();var v=(function(t){function r(e){var n=e.color;s()(this,r);var a=u()(this,t.call(this));a.particle=new p.a,a.particle.dead=!0;for(var o=new Float32Array(3*d),h=new Float32Array(3*d),l=new c.Vector3,v=0;v<d;v++)l.set(20*Math.random()-10,20*Math.random()-10,20*Math.random()-10),l.normalize(),l.multiplyScalar(.5+.5*Math.random()),o[3*v]=l.x,o[3*v+1]=l.y,o[3*v+2]=l.z,h[v]=.5+.5*Math.random();var m=new c.BufferGeometry;return m.addAttribute("position",new c.BufferAttribute(o,3)),m.addAttribute("vertexOpacity",new c.BufferAttribute(h,1)),a.points=new c.Points(m,new f.a({type:"points",transparent:!0,blending:c.AdditiveBlending,depthTest:!1,depthWrite:!1,uniforms:{diffuse:new c.Color(n),size:25,opacity:1,map:y},vertexShaderChunks:new i.a([["start","\n          #define USE_SIZEATTENUATION\n\n          varying vec3 vPosition;\n          varying vec3 vInitialPosition;\n          varying float vVertexOpacity;\n\n          uniform vec3 head;\n          uniform vec3 tail;\n          uniform float explosion;\n\n          attribute float vertexOpacity;\n        "],["main","\n            vec3 position = position;\n            vInitialPosition = position;\n            vVertexOpacity = vertexOpacity;\n\n            vec3 trailPosition = tail + (head - tail) * length(position) + position * .01;\n            trailPosition.x += cos(trailPosition.y * 10.) * .01;\n            trailPosition.z += sin(trailPosition.y * 10.) * .01;\n\n            vec3 explosionPosition = tail + distance(head, tail) * position * .5;\n\n            position = mix(trailPosition, explosionPosition, explosion);\n\n            vPosition = position;\n          "]]),fragmentShaderChunks:new i.a([["start","\n          varying vec3 vPosition;\n          varying vec3 vInitialPosition;\n          varying float vVertexOpacity;\n\n          uniform vec3 head;\n          uniform vec3 tail;\n          uniform float explosion;\n        "],["main","\n            vec3 position = vPosition;\n\n            float opacity = opacity;\n            opacity *= smoothstep(0., mix(4., .5, explosion), distance(head, tail));\n            opacity *= vVertexOpacity;\n            opacity *= mix(1., .8 + ((cos((vPosition.y + length(vInitialPosition)) * 200.) + 1.) * .5) * .2, explosion);\n\n            vec3 diffuse = diffuse;\n            diffuse += .5 * mix(0., 1. - smoothstep(0., 4., distance(head, tail)), explosion);\n            diffuse += mix(0., ((cos((vPosition.y + length(vInitialPosition)) * 100.) + 1.) * .5) * .5, explosion);\n          "]])})),a.points.frustumCulled=!1,a.add(a.points),a}return l()(r,t),r.prototype.reset=function(){this.points.material.explosion=0,this.particle.dead=!0,this.particle.position.set({x:0,y:0,z:0}),this.particle.velocity.set(0,0,0),this.points.material.head.set(0,0,0),this.points.material.tail.set(0,0,0)},r.prototype.launch=function(){this.points.material.explosion=0,this.particle.position.set(0,0,0),this.particle.velocity.set(.05*(Math.random()-.5),.07+.03*Math.random(),.05*(Math.random()-.5)),this.particle.dead=!1},r.prototype.explode=function(){this.points.material.explosion=1,this.particle.velocity.set(0,0,.05+.1*Math.random()),this.particle.dead=!1},r.prototype.update=function(){this.particle.dead||(this.particle.velocity.y-=.001),this.particle.update(),!this.points.material.explosion&&0>this.particle.velocity.y&&(this.particle.dead=!0,.01>this.points.material.tail.distanceTo(this.particle)&&this.explode()),this.points.material.head.copy(this.particle),this.points.material.explosion?this.points.material.tail.y+=.01*(this.particle.y-this.points.material.tail.y):this.points.material.tail.lerp(this.particle,.2*(1-this.particle.velocity.y/.1))},r})(c.Object3D);r.a=v},function(t,r,e){"use strict";var n=e(38),i=e.n(n),a=e(1),s=e.n(a),o=e(25),u=e.n(o),h=e(24),l=e.n(h),c=e(17),f=e(167),p=["#ff4700","#c700e0","#665dff","#0c00ff","#ffffff"],d=(function(t){function r(){s()(this,r);var e=u()(this,t.call(this));e.fireworks=[];for(var n=0;30>n;n++){var i=new f.a({color:p[n%p.length]});e.fireworks.push(i),e.add(i)}return e.reset(),e.launch(),e}return l()(r,t),r.prototype.reset=function(){for(var t=this.fireworks,r=Array.isArray(t),e=0,t=r?t:i()(t);;){var n;if(r){if(e>=t.length)break;n=t[e++]}else{if(e=t.next(),e.done)break;n=e.value}var a=n;a.position.set(10*Math.random()-5,-3,0),a.reset()}},r.prototype.launch=function(){for(var t=function(){if(e){if(n>=r.length)return"break";a=r[n++]}else{if(n=r.next(),n.done)return"break";a=n.value}var t=a;setTimeout((function(){t.reset(),t.launch()}),2e3+1e3*Math.random())},r=this.fireworks,e=Array.isArray(r),n=0,r=e?r:i()(r);;){var a,s=t();if("break"===s)break}},r.prototype.update=function(){for(var t=this.fireworks,r=Array.isArray(t),e=0,t=r?t:i()(t);;){var n;if(r){if(e>=t.length)break;n=t[e++]}else{if(e=t.next(),e.done)break;n=e.value}var a=n;a.update()}},r})(c.Object3D);r.a=d},,function(t,r,e){t.exports={default:e(178),__esModule:!0}},function(t,r){"use strict";function e(t){var r=t.length;if(0<r%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[r-2]?2:"="===t[r-1]?1:0}function n(t){return a[63&t>>18]+a[63&t>>12]+a[63&t>>6]+a[63&t]}function i(t,r,e){for(var i,a=[],s=r;s<e;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],a.push(n(i));return a.join("")}r.byteLength=function(t){return 3*t.length/4-e(t)},r.toByteArray=function(t){var r,n,i,a,u,h,l=t.length;u=e(t),h=new o(3*l/4-u),i=0<u?l-4:l;var c=0;for(r=0,n=0;r<i;r+=4,n+=3)a=s[t.charCodeAt(r)]<<18|s[t.charCodeAt(r+1)]<<12|s[t.charCodeAt(r+2)]<<6|s[t.charCodeAt(r+3)],h[c++]=255&a>>16,h[c++]=255&a>>8,h[c++]=255&a;return 2===u?(a=s[t.charCodeAt(r)]<<2|s[t.charCodeAt(r+1)]>>4,h[c++]=255&a):1==u&&(a=s[t.charCodeAt(r)]<<10|s[t.charCodeAt(r+1)]<<4|s[t.charCodeAt(r+2)]>>2,h[c++]=255&a>>8,h[c++]=255&a),h},r.fromByteArray=function(t){for(var r,e=t.length,n=e%3,s="",o=[],u=16383,h=0,l=e-n;h<l;h+=u)o.push(i(t,h,h+u>l?l:h+u));return 1==n?(r=t[e-1],s+=a[r>>2],s+=a[63&r<<4],s+="=="):2==n&&(r=(t[e-2]<<8)+t[e-1],s+=a[r>>10],s+=a[63&r>>4],s+=a[63&r<<2],s+="="),o.push(s),o.join("")};for(var a=[],s=[],o="undefined"==typeof Uint8Array?Array:Uint8Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,l=u.length;h<l;++h)a[h]=u[h],s[u.charCodeAt(h)]=h;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,r){"use strict";"use restrict";function e(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(t){return(0<t)-(0>t)},r.abs=function(t){var r=t>>n-1;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(t<r)},r.max=function(t,r){return t^(t^r)&-(t<r)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var r,e;return r=(65535<t)<<4,t>>>=r,e=(255<t)<<3,t>>>=e,r|=e,e=(15<t)<<2,t>>>=e,r|=e,e=(3<t)<<1,t>>>=e,r|=e,r|t>>1},r.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},r.popCount=function(t){return t-=1431655765&t>>>1,t=(858993459&t)+(858993459&t>>>2),16843009*(252645135&t+(t>>>4))>>>24},r.countTrailingZeros=e,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,1&27030>>>t};var i=Array(256);!(function(t){for(var r=0;256>r;++r){var e=r,n=r,i=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--i;t[r]=255&n<<i}})(i),r.reverse=function(t){return i[255&t]<<24|i[255&t>>>8]<<16|i[255&t>>>16]<<8|i[255&t>>>24]},r.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},r.deinterleave2=function(t,r){return t=1431655765&t>>>r,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},r.deinterleave3=function(t,r){return t=1227133513&t>>>r,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},function(t,r,e){"use strict";(function(t){function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,r){if(n()<r)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=a.prototype):(null===t&&(t=new a(r)),t.length=r),t}function a(t,r,e){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?f(t,r,e,n):"string"==typeof r?l(t,r,e):p(t,r)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function u(t,r,e,n){return o(r),0>=r?i(t,r):void 0===e?i(t,r):"string"==typeof n?i(t,r).fill(e,n):i(t,r).fill(e)}function h(t,r){if(o(r),t=i(t,0>r?0:0|d(r)),!a.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!a.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(r,e);t=i(t,n);var s=t.write(r,e);return s!==n&&(t=t.slice(0,s)),t}function c(t,r){var e=0>r.length?0:0|d(r.length);t=i(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function f(t,r,e,n){if(r.byteLength,0>e||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),a.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=a.prototype):t=c(t,r),t}function p(t,r){if(a.isBuffer(r)){var e=0|d(r.length);return t=i(t,e),0===t.length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?i(t,0):c(t,r);if("Buffer"===r.type&&K(r.data))return c(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t,r){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return G(t).length;default:if(n)return Y(t).length;r=(""+r).toLowerCase(),n=!0}}function v(t,r,e){var n=!1;if((void 0===r||0>r)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),0>=e)return"";if(e>>>=0,r>>>=0,e<=r)return"";for(t||(t="utf8");!0;)switch(t){case"hex":return R(this,r,e);case"utf8":case"utf-8":return A(this,r,e);case"ascii":return F(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return I(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function g(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):2147483647<e?e=2147483647:-2147483648>e&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),0>e&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(0>e){if(!i)return-1;e=0}if("string"==typeof r&&(r=a.from(r,n)),a.isBuffer(r))return 0===r.length?-1:x(t,r,e,n,i);if("number"==typeof r)return r&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):x(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function x(t,r,e,n,i){function a(t,r){return 1===s?t[r]:t.readUInt16BE(r*s)}var s=1,o=t.length,u=r.length;if(void 0!==n&&(n=(n+"").toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>r.length)return-1;s=2,o/=2,u/=2,e/=2}var h;if(i){var l=-1;for(h=e;h<o;h++)if(a(t,h)!==a(r,-1==l?0:h-l))-1!=l&&(h-=h-l),l=-1;else if(-1==l&&(l=h),h-l+1===u)return l*s}else for(e+u>o&&(e=o-u),h=e;0<=h;h--){for(var c=!0,f=0;f<u;f++)if(a(t,h+f)!==a(r,f)){c=!1;break}if(c)return h}return-1}function M(t,r,e,n){e=+e||0;var i=t.length-e;n?(n=+n,n>i&&(n=i)):n=i;var a=r.length;if(0!=a%2)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(r.substr(2*s,2),16);if(isNaN(o))return s;t[e+s]=o}return s}function _(t,r,e,n){return H(Y(r,t.length-e),t,e,n)}function b(t,r,e,n){return H(X(r),t,e,n);
}function E(t,r,e,n){return b(t,r,e,n)}function w(t,r,e,n){return H(G(r),t,e,n)}function S(t,r,e,n){return H(q(r,t.length-e),t,e,n)}function I(t,r,e){return 0===r&&e===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(r,e))}function A(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var a=t[i],s=null,o=239<a?4:223<a?3:191<a?2:1;if(i+o<=e){var u,h,l,c;1==o?128>a&&(s=a):2==o?(u=t[i+1],128==(192&u)&&(c=(31&a)<<6|63&u,127<c&&(s=c))):3==o?(u=t[i+1],h=t[i+2],128==(192&u)&&128==(192&h)&&(c=(15&a)<<12|(63&u)<<6|63&h,2047<c&&(55296>c||57343<c)&&(s=c))):4==o?(u=t[i+1],h=t[i+2],l=t[i+3],128==(192&u)&&128==(192&h)&&128==(192&l)&&(c=(15&a)<<18|(63&u)<<12|(63&h)<<6|63&l,65535<c&&1114112>c&&(s=c))):void 0}null===s?(s=65533,o=1):65535<s&&(s-=65536,n.push(55296|1023&s>>>10),s=56320|1023&s),n.push(s),i+=o}return T(n)}function T(t){var r=t.length;if(r<=J)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=J));return e}function F(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function R(t,r,e){var n=t.length;(!r||0>r)&&(r=0),(!e||0>e||e>n)&&(e=n);for(var i="",a=r;a<e;++a)i+=j(t[a]);return i}function z(t,r,e){for(var n=t.slice(r,e),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function P(t,r,e){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function N(t,r,e,n,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<s)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function U(t,r,e,n){0>r&&(r=65535+r+1);for(var i=0,a=Math.min(t.length-e,2);i<a;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function C(t,r,e,n){0>r&&(r=4294967295+r+1);for(var i=0,a=Math.min(t.length-e,4);i<a;++i)t[e+i]=255&r>>>8*(n?i:3-i)}function O(t,r,e,n){if(e+n>t.length)throw new RangeError("Index out of range");if(0>e)throw new RangeError("Index out of range")}function k(t,r,e,n,i){return i||O(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,r,e,n,23,4),e+4}function L(t,r,e,n,i){return i||O(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,r,e,n,52,8),e+8}function B(t){if(t=V(t).replace($,""),2>t.length)return"";for(;0!=t.length%4;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function j(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,r){r=r||1/0;for(var e,n=t.length,i=null,a=[],s=0;s<n;++s){if(e=t.charCodeAt(s),55295<e&&57344>e){if(!i){if(56319<e){-1<(r-=3)&&a.push(239,191,189);continue}if(s+1===n){-1<(r-=3)&&a.push(239,191,189);continue}i=e;continue}if(56320>e){-1<(r-=3)&&a.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&-1<(r-=3)&&a.push(239,191,189);if(i=null,128>e){if(0>(r-=1))break;a.push(e)}else if(2048>e){if(0>(r-=2))break;a.push(192|e>>6,128|63&e)}else if(65536>e){if(0>(r-=3))break;a.push(224|e>>12,128|63&e>>6,128|63&e)}else{if(!(1114112>e))throw new Error("Invalid code point");if(0>(r-=4))break;a.push(240|e>>18,128|63&e>>12,128|63&e>>6,128|63&e)}}return a}function X(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function q(t,r){for(var e,n,i,a=[],s=0;s<t.length&&!(0>(r-=2));++s)e=t.charCodeAt(s),n=e>>8,i=e%256,a.push(i),a.push(n);return a}function G(t){return Z.toByteArray(B(t))}function H(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!==t}var Z=e(171),Q=e(206),K=e(108);r.Buffer=a,r.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},r.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0===t.TYPED_ARRAY_SUPPORT?(function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}})():t.TYPED_ARRAY_SUPPORT,r.kMaxLength=n(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,r,e){return s(null,t,r,e)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,r,e){return u(null,t,r,e)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,r){if(!a.isBuffer(t)||!a.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,s=Math.min(e,n);i<s;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},a.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,r){if(!K(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=a.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var s=t[e];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)m(this,r,r+1);return this},a.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},a.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,r,e,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>r||e>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(r>>>=0,e>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var s=i-n,o=e-r,u=Math.min(s,o),h=this.slice(n,i),l=t.slice(r,e),c=0;c<u;++c)if(h[c]!==l[c]){s=h[c],o=l[c];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},a.prototype.indexOf=function(t,r,e){return g(this,t,r,e,!0)},a.prototype.lastIndexOf=function(t,r,e){return g(this,t,r,e,!1)},a.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),0<t.length&&(0>e||0>r)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return M(this,t,r,e);case"utf8":case"utf-8":return _(this,t,r,e);case"ascii":return b(this,t,r,e);case"latin1":case"binary":return E(this,t,r,e);case"base64":return w(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,r,e);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;a.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,0>t?(t+=e,0>t&&(t=0)):t>e&&(t=e),0>r?(r+=e,0>r&&(r=0)):r>e&&(r=e),r<t&&(r=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,r),n.__proto__=a.prototype;else{var i=r-t;n=new a(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||P(t,r,this.length);for(var n=this[t],i=1,a=0;++a<r&&(i*=256);)n+=this[t+a]*i;return n},a.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||P(t,r,this.length);for(var n=this[t+--r],i=1;0<r&&(i*=256);)n+=this[t+--r]*i;return n},a.prototype.readUInt8=function(t,r){return r||P(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,r){return r||P(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,r){return r||P(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,r){return r||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,r){return r||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||P(t,r,this.length);for(var n=this[t],i=1,a=0;++a<r&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},a.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||P(t,r,this.length);for(var n=r,i=1,a=this[t+--n];0<n&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a},a.prototype.readInt8=function(t,r){return r||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,r){r||P(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt16BE=function(t,r){r||P(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt32LE=function(t,r){return r||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,r){return r||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,r){return r||P(t,4,this.length),Q.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,r){return r||P(t,4,this.length),Q.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,r){return r||P(t,8,this.length),Q.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,r){return r||P(t,8,this.length),Q.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){var i=Math.pow(2,8*e)-1;N(this,t,r,e,i,0)}var a=1,s=0;for(this[r]=255&t;++s<e&&(a*=256);)this[r+s]=255&t/a;return r+e},a.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){var i=Math.pow(2,8*e)-1;N(this,t,r,e,i,0)}var a=e-1,s=1;for(this[r+a]=255&t;0<=--a&&(s*=256);)this[r+a]=255&t/s;return r+e},a.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},a.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):U(this,t,r,!0),r+2},a.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):U(this,t,r,!1),r+2},a.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):C(this,t,r,!0),r+4},a.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):C(this,t,r,!1),r+4},a.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);N(this,t,r,e,i-1,-i)}var a=0,s=1,o=0;for(this[r]=255&t;++a<e&&(s*=256);)0>t&&0==o&&0!==this[r+a-1]&&(o=1),this[r+a]=255&(t/s>>0)-o;return r+e},a.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);N(this,t,r,e,i-1,-i)}var a=e-1,s=1,o=0;for(this[r+a]=255&t;0<=--a&&(s*=256);)0>t&&0==o&&0!==this[r+a+1]&&(o=1),this[r+a]=255&(t/s>>0)-o;return r+e},a.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},a.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):U(this,t,r,!0),r+2},a.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):U(this,t,r,!1),r+2},a.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):C(this,t,r,!0),r+4},a.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||N(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):C(this,t,r,!1),r+4},a.prototype.writeFloatLE=function(t,r,e){return k(this,t,r,!0,e)},a.prototype.writeFloatBE=function(t,r,e){return k(this,t,r,!1,e)},a.prototype.writeDoubleLE=function(t,r,e){return L(this,t,r,!0,e)},a.prototype.writeDoubleBE=function(t,r,e){return L(this,t,r,!1,e)},a.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),0<n&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>e||e>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,s=n-e;if(this===t&&e<r&&r<n)for(i=s-1;0<=i;--i)t[i+r]=this[i+e];else if(1e3>s||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+s),r);return s},a.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>r||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var s;if("number"==typeof t)for(s=r;s<e;++s)this[s]=t;else{var o=a.isBuffer(t)?t:Y(new a(t,n).toString()),u=o.length;for(s=0;s<e-r;++s)this[s+r]=o[s%u]}return this};var $=/[^+\/0-9A-Za-z-_]/g}).call(r,e(153))},function(t,r,e){e(70),e(34),e(51),e(188),e(193),t.exports=e(13).Map},function(t,r,e){e(189),t.exports=e(13).Object.assign},function(t,r,e){e(190),t.exports=e(13).Object.getPrototypeOf},function(t,r,e){e(191),t.exports=e(13).Reflect.construct},function(t,r,e){e(70),e(34),e(51),e(192),e(194),t.exports=e(13).Set},function(t,r,e){var n=e(125);t.exports=function(t,r){var e=[];return n(t,!1,e.push,e,r),e}},function(t,r,e){var n=e(31),i=e(68),a=e(45),s=e(50),o=e(182);t.exports=function(t,r){var e=1==t,u=4==t,h=6==t,l=r||o;return function(r,o,c){for(var f,p,d=a(r),y=i(d),v=n(o,c,3),m=s(y.length),g=0,x=e?l(r,m):2==t?l(r,0):void 0;m>g;g++)if((5==t||h||g in y)&&(f=y[g],p=v(f,g,d),t))if(e)x[g]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:x.push(f)}else if(u)return!1;return h?-1:3==t||u?u:x}}},function(t,r,e){var n=e(26),i=e(73),a=e(14)("species");t.exports=function(t){var r;return i(t)&&(r=t.constructor,"function"==typeof r&&(r===Array||i(r.prototype))&&(r=void 0),n(r)&&(r=r[a],null===r&&(r=void 0))),void 0==r?Array:r}},function(t,r,e){var n=e(181);t.exports=function(t,r){return new(n(t))(r)}},function(t,r,e){"use strict";var n=e(67),i=e(26),a=e(184),s=[].slice,o={},u=function(t,r,e){if(!(r in o)){for(var n=[],i=0;i<r;i++)n[i]="a["+i+"]";o[r]=Function("F,a","return new F("+n.join(",")+")")}return o[r](t,e)};t.exports=Function.bind||function(t){var r=n(this),e=s.call(arguments,1),o=function(){var n=e.concat(s.call(arguments));return this instanceof o?u(r,n.length,n):a(r,n,t)};return i(r.prototype)&&(o.prototype=r.prototype),o}},function(t){t.exports=function(t,r,e){var n=void 0===e;switch(r.length){case 0:return n?t():t.call(e);case 1:return n?t(r[0]):t.call(e,r[0]);case 2:return n?t(r[0],r[1]):t.call(e,r[0],r[1]);case 3:return n?t(r[0],r[1],r[2]):t.call(e,r[0],r[1],r[2]);case 4:return n?t(r[0],r[1],r[2],r[3]):t.call(e,r[0],r[1],r[2],r[3])}return t.apply(e,r)}},function(t,r,e){"use strict";var n=e(30),i=e(56),a=e(36),s=e(45),o=e(68),u=Object.assign;t.exports=!u||e(27)((function(){var t={},r={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach((function(t){r[t]=t})),7!=u({},t)[e]||Object.keys(u({},r)).join("")!=n}))?function(t){for(var r=s(t),e=arguments.length,u=1,h=i.f,l=a.f;e>u;)for(var c,f=o(arguments[u++]),p=h?n(f).concat(h(f)):n(f),d=p.length,y=0;d>y;)l.call(f,c=p[y++])&&(r[c]=f[c]);return r}:u},function(t,r,e){var n=e(20),i=e(13),a=e(27);t.exports=function(t,r){var e=(i.Object||{})[t]||Object[t],s={};s[t]=r(e),n(n.S+n.F*a((function(){e(1)})),"Object",s)}},function(t,r,e){"use strict";var n=e(15),i=e(13),a=e(16),s=e(19),o=e(14)("species");t.exports=function(t){var r="function"==typeof i[t]?i[t]:n[t];s&&r&&!r[o]&&a.f(r,o,{configurable:!0,get:function(){return this}})}},function(t,r,e){"use strict";var n=e(142);t.exports=e(144)("Map",(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(t){var r=n.getEntry(this,t);return r&&r.v},set:function(t,r){return n.def(this,0===t?0:t,r)}},n,!0)},function(t,r,e){var n=e(20);n(n.S+n.F,"Object",{assign:e(185)})},function(t,r,e){var n=e(45),i=e(76);e(186)("getPrototypeOf",(function(){return function(t){return i(n(t))}}))},function(t,r,e){var n=e(20),i=e(33),a=e(67),s=e(18),o=e(26),u=e(27),h=e(183),l=(e(15).Reflect||{}).construct,c=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),f=!u((function(){l((function(){}))}));n(n.S+n.F*(c||f),"Reflect",{construct:function(t,r){a(t),s(r);var e=3>arguments.length?t:a(arguments[2]);if(f&&!c)return l(t,r,e);if(t==e){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var n=[null];return n.push.apply(n,r),new(h.apply(t,n))}var u=e.prototype,p=i(o(u)?u:Object.prototype),d=Function.apply.call(t,p,r);return o(d)?d:p}})},function(t,r,e){"use strict";var n=e(142);t.exports=e(144)("Set",(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},function(t,r,e){var n=e(20);n(n.P+n.R,"Map",{toJSON:e(143)("Map")})},function(t,r,e){var n=e(20);n(n.P+n.R,"Set",{toJSON:e(143)("Set")})},function(t,r,e){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}var i=e(197);t.exports=function(t){var r=new n;r.pre=t.pre,r.body=t.body,r.post=t.post;var e=t.args.slice(0);r.argTypes=e;for(var a=0;a<e.length;++a){var s=e[a];if("array"===s||"object"==typeof s&&s.blockIndices){if(r.argTypes[a]="array",r.arrayArgs.push(a),r.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),r.shimArgs.push("array"+a),a<r.pre.args.length&&0<r.pre.args[a].count)throw new Error("cwise: pre() block may not reference array args");if(a<r.post.args.length&&0<r.post.args[a].count)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)r.scalarArgs.push(a),r.shimArgs.push("scalar"+a);else if("index"===s){if(r.indexArgs.push(a),a<r.pre.args.length&&0<r.pre.args[a].count)throw new Error("cwise: pre() block may not reference array index");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<r.post.args.length&&0<r.post.args[a].count)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(r.shapeArgs.push(a),a<r.pre.args.length&&r.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<r.post.args.length&&r.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+e[a]);r.argTypes[a]="offset",r.offsetArgs.push({array:s.array,offset:s.offset}),r.offsetArgIndex.push(a)}}if(0>=r.arrayArgs.length)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,i(r)}},function(t,r,e){"use strict";function n(t,r,e){var n,i,a=t.length,s=r.arrayArgs.length,o=0<r.indexArgs.length,u=[],h=[],l=0,c=0;for(n=0;n<a;++n)h.push(["i",n,"=0"].join(""));for(i=0;i<s;++i)for(n=0;n<a;++n)c=l,l=t[n],0===n?h.push(["d",i,"s",n,"=t",i,"p",l].join("")):h.push(["d",i,"s",n,"=(t",i,"p",l,"-s",c,"*t",i,"p",c,")"].join(""));for(u.push("var "+h.join(",")),n=a-1;0<=n;--n)l=t[n],u.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(u.push(e),n=0;n<a;++n){for(c=l,l=t[n],i=0;i<s;++i)u.push(["p",i,"+=d",i,"s",n].join(""));o&&(0<n&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,r,e,i){for(var a=r.length,s=e.arrayArgs.length,o=e.blockSize,u=0<e.indexArgs.length,h=[],l=0;l<s;++l)h.push(["var offset",l,"=p",l].join(""));for(var l=t;l<a;++l)h.push(["for(var j"+l+"=SS[",r[l],"]|0;j",l,">0;){"].join("")),h.push(["if(j",l,"<",o,"){"].join("")),h.push(["s",r[l],"=j",l].join("")),h.push(["j",l,"=0"].join("")),h.push(["}else{s",r[l],"=",o].join("")),h.push(["j",l,"-=",o,"}"].join("")),u&&h.push(["index[",r[l],"]=j",l].join(""));for(var l=0;l<s;++l){for(var c=["offset"+l],f=t;f<a;++f)c.push(["j",f,"*t",l,"p",r[f]].join(""));h.push(["p",l,"=(",c.join("+"),")"].join(""))}h.push(n(r,e,i));for(var l=t;l<a;++l)h.push("}");return h.join("\n")}function a(t){for(var r=0,e=t[0].length;r<e;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function s(t,r,e){for(var n=t.body,i=[],a=[],s=0;s<t.args.length;++s){var o=t.args[s];if(!(0>=o.count)){var u=new RegExp(o.name,"g"),h="",l=r.arrayArgs.indexOf(s);switch(r.argTypes[s]){case"offset":var c=r.offsetArgIndex.indexOf(s),f=r.offsetArgs[c];l=f.array,h="+q"+c;case"array":h="p"+l+h;var p="l"+s,d="a"+l;if(0===r.arrayBlockIndices[l])1===o.count?"generic"===e[l]?o.lvalue?(i.push(["var ",p,"=",d,".get(",h,")"].join("")),n=n.replace(u,p),a.push([d,".set(",h,",",p,")"].join(""))):n=n.replace(u,[d,".get(",h,")"].join("")):n=n.replace(u,[d,"[",h,"]"].join("")):"generic"===e[l]?(i.push(["var ",p,"=",d,".get(",h,")"].join("")),n=n.replace(u,p),o.lvalue&&a.push([d,".set(",h,",",p,")"].join(""))):(i.push(["var ",p,"=",d,"[",h,"]"].join("")),n=n.replace(u,p),o.lvalue&&a.push([d,"[",h,"]=",p].join("")));else{for(var y=[o.name],v=[h],m=0;m<Math.abs(r.arrayBlockIndices[l]);m++)y.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(m+1)+"*t"+l+"b"+m);if(u=new RegExp(y.join(""),"g"),h=v.join("+"),"generic"===e[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",h,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+r.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function o(t){for(var r=Array(t.length),e=!0,n=0;n<t.length;++n){var i=t[n],a=i.match(/\d+/);a=a?a[0]:"",r[n]=0===i.charAt(0)?"u"+i.charAt(1)+a:i.charAt(0)+a,0<n&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}var u=e(224);t.exports=function(t,r){for(var e=0|r[1].length-Math.abs(t.arrayBlockIndices[0]),h=Array(t.arrayArgs.length),l=Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)l[c]=r[2*c],h[c]=r[2*c+1];for(var f=[],p=[],d=[],y=[],v=[],c=0;c<t.arrayArgs.length;++c){0>t.arrayBlockIndices[c]?(d.push(0),y.push(e),f.push(e),p.push(e+t.arrayBlockIndices[c])):(d.push(t.arrayBlockIndices[c]),y.push(t.arrayBlockIndices[c]+e),f.push(0),p.push(t.arrayBlockIndices[c]));for(var m=[],g=0;g<h[c].length;g++)d[c]<=h[c][g]&&h[c][g]<y[c]&&m.push(h[c][g]-d[c]);v.push(m)}for(var x=["SS"],M=["'use strict'"],_=[],g=0;g<e;++g)_.push(["s",g,"=SS[",g,"]"].join(""));for(var c=0;c<t.arrayArgs.length;++c){x.push("a"+c),x.push("t"+c),x.push("p"+c);for(var g=0;g<e;++g)_.push(["t",c,"p",g,"=t",c,"[",d[c]+g,"]"].join(""));for(var g=0;g<Math.abs(t.arrayBlockIndices[c]);++g)_.push(["t",c,"b",g,"=t",c,"[",f[c]+g,"]"].join(""))}for(var c=0;c<t.scalarArgs.length;++c)x.push("Y"+c);if(0<t.shapeArgs.length&&_.push("shape=SS.slice(0)"),0<t.indexArgs.length){for(var b=Array(e),c=0;c<e;++c)b[c]="0";_.push(["index=[",b.join(","),"]"].join(""))}for(var c=0;c<t.offsetArgs.length;++c){for(var E=t.offsetArgs[c],w=[],g=0;g<E.offset.length;++g)0!==E.offset[g]&&(1===E.offset[g]?w.push(["t",E.array,"p",g].join("")):w.push([E.offset[g],"*t",E.array,"p",g].join("")));0===w.length?_.push("q"+c+"=0"):_.push(["q",c,"=",w.join("+")].join(""))}var S=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));_=_.concat(S),M.push("var "+_.join(","));for(var c=0;c<t.arrayArgs.length;++c)M.push("p"+c+"|=0");3<t.pre.body.length&&M.push(s(t.pre,t,l));var I=s(t.body,t,l),A=a(v);A<e?M.push(i(A,v[0],t,I)):M.push(n(v[0],t,I)),3<t.post.body.length&&M.push(s(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",r,":\n"+M.join("\n")+"\n----------");var T=[t.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",A,o(l)].join(""),F=new Function(["function ",T,"(",x.join(","),"){",M.join("\n"),"} return ",T].join(""));return F()}},function(t,r,e){"use strict";var n=e(196);t.exports=function(t){var r=["'use strict'","var CACHED={}"],e=[],i=t.funcName+"_cwise_thunk";r.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),0>t.arrayBlockIndices[0]?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],h=[],l=0;l<t.arrayArgs.length;++l){var c=t.arrayArgs[l];e.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),s.push("t"+c),s.push("r"+c+".join()"),o.push("array"+c+".data"),o.push("array"+c+".stride"),o.push("array"+c+".offset|0"),0<l&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),h.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}1<t.arrayArgs.length&&(r.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),r.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),r.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),r.push("}"));for(var l=0;l<t.scalarArgs.length;++l)o.push("scalar"+t.scalarArgs[l]);e.push(["type=[",s.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+r.join("\n")+"\n----------");var f=new Function("compile",r.join("\n"));return f(n.bind(void 0,t))}},function(t){"use strict";function r(t,e,n){var i=0|t[n];if(0>=i)return[];var a,s=Array(i);if(n===t.length-1)for(a=0;a<i;++a)s[a]=e;else for(a=0;a<i;++a)s[a]=r(t,e,n+1);return s}function e(t,r){var e,n;for(e=Array(t),n=0;n<t;++n)e[n]=r;return e}t.exports=function(t,n){switch("undefined"==typeof n&&(n=0),typeof t){case"number":if(0<t)return e(0|t,n);break;case"object":if("number"==typeof t.length)return r(t,n,0)}return[]}},function(t,r,e){"use strict";function n(t){var r=t.getParameter(t.FRAMEBUFFER_BINDING),e=t.getParameter(t.RENDERBUFFER_BINDING),n=t.getParameter(t.TEXTURE_BINDING_2D);return[r,e,n]}function i(t,r){t.bindFramebuffer(t.FRAMEBUFFER,r[0]),t.bindRenderbuffer(t.RENDERBUFFER,r[1]),t.bindTexture(t.TEXTURE_2D,r[2])}function a(t,r){var e=t.getParameter(r.MAX_COLOR_ATTACHMENTS_WEBGL);m=Array(e+1);for(var n=0;n<=e;++n){for(var i=Array(e),a=0;a<n;++a)i[a]=t.COLOR_ATTACHMENT0+a;for(var a=n;a<e;++a)i[a]=t.NONE;m[n]=i}}function s(t){switch(t){case p:throw new Error("gl-fbo: Framebuffer unsupported");case d:throw new Error("gl-fbo: Framebuffer incomplete attachment");case y:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(t,r,e,n,i,a){if(!n)return null;var s=f(t,r,e,i,n);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,a,t.TEXTURE_2D,s.handle,0),s}function u(t,r,e,n,i){var a=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,n,r,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,a),a}function h(t){var r=n(t.gl),e=t.gl,a=t.handle=e.createFramebuffer(),h=t._shape[0],l=t._shape[1],c=t.color.length,f=t._ext,p=t._useStencil,d=t._useDepth,y=t._colorType;e.bindFramebuffer(e.FRAMEBUFFER,a);for(var v=0;v<c;++v)t.color[v]=o(e,h,l,y,e.RGBA,e.COLOR_ATTACHMENT0+v);0===c?(t._color_rb=u(e,h,l,e.RGBA4,e.COLOR_ATTACHMENT0),f&&f.drawBuffersWEBGL(m[0])):1<c&&f.drawBuffersWEBGL(m[c]);var g=e.getExtension("WEBGL_depth_texture");g?p?t.depth=o(e,h,l,g.UNSIGNED_INT_24_8_WEBGL,e.DEPTH_STENCIL,e.DEPTH_STENCIL_ATTACHMENT):d&&(t.depth=o(e,h,l,e.UNSIGNED_SHORT,e.DEPTH_COMPONENT,e.DEPTH_ATTACHMENT)):d&&p?t._depth_rb=u(e,h,l,e.DEPTH_STENCIL,e.DEPTH_STENCIL_ATTACHMENT):d?t._depth_rb=u(e,h,l,e.DEPTH_COMPONENT16,e.DEPTH_ATTACHMENT):p&&(t._depth_rb=u(e,h,l,e.STENCIL_INDEX,e.STENCIL_ATTACHMENT));var x=e.checkFramebufferStatus(e.FRAMEBUFFER);if(x!==e.FRAMEBUFFER_COMPLETE){t._destroyed=!0,e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(e.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(var v=0;v<t.color.length;++v)t.color[v].dispose(),t.color[v]=null;t._color_rb&&(e.deleteRenderbuffer(t._color_rb),t._color_rb=null),i(e,r),s(x)}i(e,r)}function l(t,r,e,n,i,a,s,o){this.gl=t,this._shape=[0|r,0|e],this._destroyed=!1,this._ext=o,this.color=Array(i);for(var u=0;u<i;++u)this.color[u]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=a,this._useStencil=s;var l=this,c=[0|r,0|e];Object.defineProperties(c,{0:{get:function(){return l._shape[0]},set:function(t){return l.width=t}},1:{get:function(){return l._shape[1]},set:function(t){return l.height=t}}}),this._shapeVector=c,h(this)}function c(t,r,e){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==r||t._shape[1]!==e){var a=t.gl,o=a.getParameter(a.MAX_RENDERBUFFER_SIZE);if(0>r||r>o||0>e||e>o)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=r,t._shape[1]=e;for(var u=n(a),h=0;h<t.color.length;++h)t.color[h].shape=t._shape;
t._color_rb&&(a.bindRenderbuffer(a.RENDERBUFFER,t._color_rb),a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(a.bindRenderbuffer(a.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&a.renderbufferStorage(a.RENDERBUFFER,a.STENCIL_INDEX,t._shape[0],t._shape[1])),a.bindFramebuffer(a.FRAMEBUFFER,t.handle);var l=a.checkFramebufferStatus(a.FRAMEBUFFER);l!==a.FRAMEBUFFER_COMPLETE&&(t.dispose(),i(a,u),s(l)),i(a,u)}}var f=e(149);t.exports=function(t,r,e,n){p||(p=t.FRAMEBUFFER_UNSUPPORTED,d=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,y=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var i=t.getExtension("WEBGL_draw_buffers");if(!m&&i&&a(t,i),Array.isArray(r)&&(n=e,e=0|r[1],r=0|r[0]),"number"!=typeof r)throw new Error("gl-fbo: Missing shape parameter");var s=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(0>r||r>s||0>e||e>s)throw new Error("gl-fbo: Parameters are too large for FBO");n=n||{};var o=1;if("color"in n){if(o=Math.max(0|n.color,0),0>o)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(1<o){if(!i)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(o>t.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+o+" draw buffers")}}var u=t.UNSIGNED_BYTE,h=t.getExtension("OES_texture_float");if(n.float&&0<o){if(!h)throw new Error("gl-fbo: Context does not support floating point textures");u=t.FLOAT}else n.preferFloat&&0<o&&h&&(u=t.FLOAT);var c=!0;"depth"in n&&(c=!!n.depth);var f=!1;return"stencil"in n&&(f=!!n.stencil),new l(t,r,e,u,o,c,f,i)};var p,d,y,v,m=null,g=l.prototype;Object.defineProperties(g,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var r=0|t[0],e=0|t[1];return c(this,r,e),[r,e]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return t|=0,c(this,t,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,c(this,this._shape[0],t),t},enumerable:!1}}),g.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},g.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var r=0;r<this.color.length;++r)this.color[r].dispose(),this.color[r]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var r=new n.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,r,e,i){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=r,a[2]=e,a[3]=i,a},i.set=function(t,r,e,n,i){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t},i.transpose=function(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},i.invert=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*a-i*n;return s?(s=1/s,t[0]=a*s,t[1]=-n*s,t[2]=-i*s,t[3]=e*s,t):null},i.adjoint=function(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],u=e[1],h=e[2],l=e[3];return t[0]=n*o+a*u,t[1]=i*o+s*u,t[2]=n*h+a*l,t[3]=i*h+s*l,t},i.mul=i.multiply,i.rotate=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),u=Math.cos(e);return t[0]=n*u+a*o,t[1]=i*u+s*o,t[2]=n*-o+a*u,t[3]=i*-o+s*u,t},i.scale=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],u=e[1];return t[0]=n*o,t[1]=i*o,t[2]=a*u,t[3]=s*u,t},i.fromRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t},i.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t},i.sub=i.subtract,i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],o=r[0],u=r[1],h=r[2],l=r[3];return Math.abs(e-o)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-l)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))},i.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},i.multiplyScalarAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t},t.exports=i},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var r=new n.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,r,e,i,a,s){var o=new n.ARRAY_TYPE(6);return o[0]=t,o[1]=r,o[2]=e,o[3]=i,o[4]=a,o[5]=s,o},i.set=function(t,r,e,n,i,a,s){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t},i.invert=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=e*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=e*u,t[4]=(i*o-a*s)*u,t[5]=(n*s-e*o)*u,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=e[0],l=e[1],c=e[2],f=e[3],p=e[4],d=e[5];return t[0]=n*h+a*l,t[1]=i*h+s*l,t[2]=n*c+a*f,t[3]=i*c+s*f,t[4]=n*p+a*d+o,t[5]=i*p+s*d+u,t},i.mul=i.multiply,i.rotate=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=Math.sin(e),l=Math.cos(e);return t[0]=n*l+a*h,t[1]=i*l+s*h,t[2]=n*-h+a*l,t[3]=i*-h+s*l,t[4]=o,t[5]=u,t},i.scale=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=e[0],l=e[1];return t[0]=n*h,t[1]=i*h,t[2]=a*l,t[3]=s*l,t[4]=o,t[5]=u,t},i.translate=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=e[0],l=e[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=n*h+a*l+o,t[5]=i*h+s*l+u,t},i.fromRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t},i.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t},i.multiplyScalarAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=r[0],l=r[1],c=r[2],f=r[3],p=r[4],d=r[5];return Math.abs(e-h)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(i-l)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(s-f)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-d)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))},t.exports=i},function(t,r,e){var n=e(58),i={scalar:{},SIMD:{}};i.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var r=new n.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},i.fromValues=function(t,r,e,i,a,s,o,u,h,l,c,f,p,d,y,v){var m=new n.ARRAY_TYPE(16);return m[0]=t,m[1]=r,m[2]=e,m[3]=i,m[4]=a,m[5]=s,m[6]=o,m[7]=u,m[8]=h,m[9]=l,m[10]=c,m[11]=f,m[12]=p,m[13]=d,m[14]=y,m[15]=v,m},i.set=function(t,r,e,n,i,a,s,o,u,h,l,c,f,p,d,y,v){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t[9]=l,t[10]=c,t[11]=f,t[12]=p,t[13]=d,t[14]=y,t[15]=v,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,r){if(t===r){var e=r[1],n=r[2],i=r[3],a=r[6],s=r[7],o=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=a,t[11]=r[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},i.SIMD.transpose=function(t,r){var e,n,i,a,s,o,u,h,l,c;return e=SIMD.Float32x4.load(r,0),n=SIMD.Float32x4.load(r,4),i=SIMD.Float32x4.load(r,8),a=SIMD.Float32x4.load(r,12),s=SIMD.Float32x4.shuffle(e,n,0,1,4,5),o=SIMD.Float32x4.shuffle(i,a,0,1,4,5),u=SIMD.Float32x4.shuffle(s,o,0,2,4,6),h=SIMD.Float32x4.shuffle(s,o,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,h),s=SIMD.Float32x4.shuffle(e,n,2,3,6,7),o=SIMD.Float32x4.shuffle(i,a,2,3,6,7),l=SIMD.Float32x4.shuffle(s,o,0,2,4,6),c=SIMD.Float32x4.shuffle(s,o,1,3,5,7),SIMD.Float32x4.store(t,8,l),SIMD.Float32x4.store(t,12,c),t},i.transpose=n.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=r[6],h=r[7],l=r[8],c=r[9],f=r[10],p=r[11],d=r[12],y=r[13],v=r[14],m=r[15],g=e*o-n*s,x=e*u-i*s,M=e*h-a*s,_=n*u-i*o,b=n*h-a*o,E=i*h-a*u,w=l*y-c*d,S=l*v-f*d,I=l*m-p*d,A=c*v-f*y,T=c*m-p*y,F=f*m-p*v,D=g*F-x*T+M*A+_*I-b*S+E*w;return D?(D=1/D,t[0]=(o*F-u*T+h*A)*D,t[1]=(i*T-n*F-a*A)*D,t[2]=(y*E-v*b+m*_)*D,t[3]=(f*b-c*E-p*_)*D,t[4]=(u*I-s*F-h*S)*D,t[5]=(e*F-i*I+a*S)*D,t[6]=(v*M-d*E-m*x)*D,t[7]=(l*E-f*M+p*x)*D,t[8]=(s*T-o*I+h*w)*D,t[9]=(n*I-e*T-a*w)*D,t[10]=(d*b-y*M+m*g)*D,t[11]=(c*M-l*b-p*g)*D,t[12]=(o*S-s*A-u*w)*D,t[13]=(e*A-n*S+i*w)*D,t[14]=(y*x-d*_-v*g)*D,t[15]=(l*_-c*x+f*g)*D,t):null},i.SIMD.invert=function(t,r){var e,n,i,a,s,o,u,h,l,c,f=SIMD.Float32x4.load(r,0),p=SIMD.Float32x4.load(r,4),d=SIMD.Float32x4.load(r,8),y=SIMD.Float32x4.load(r,12);return s=SIMD.Float32x4.shuffle(f,p,0,1,4,5),n=SIMD.Float32x4.shuffle(d,y,0,1,4,5),e=SIMD.Float32x4.shuffle(s,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,s,1,3,5,7),s=SIMD.Float32x4.shuffle(f,p,2,3,6,7),a=SIMD.Float32x4.shuffle(d,y,2,3,6,7),i=SIMD.Float32x4.shuffle(s,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,s,1,3,5,7),s=SIMD.Float32x4.mul(i,a),s=SIMD.Float32x4.swizzle(s,1,0,3,2),o=SIMD.Float32x4.mul(n,s),u=SIMD.Float32x4.mul(e,s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),o=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,s),o),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,s),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.mul(n,i),s=SIMD.Float32x4.swizzle(s,1,0,3,2),o=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,s),o),l=SIMD.Float32x4.mul(e,s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),o=SIMD.Float32x4.sub(o,SIMD.Float32x4.mul(a,s)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,s),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),s=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),a),s=SIMD.Float32x4.swizzle(s,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),o=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,s),o),h=SIMD.Float32x4.mul(e,s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),o=SIMD.Float32x4.sub(o,SIMD.Float32x4.mul(i,s)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,s),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),s=SIMD.Float32x4.mul(e,n),s=SIMD.Float32x4.swizzle(s,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,s),h),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,s),l),s=SIMD.Float32x4.swizzle(s,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,s),h),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,s)),s=SIMD.Float32x4.mul(e,a),s=SIMD.Float32x4.swizzle(s,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(i,s)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,s),h),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,s),u),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(n,s)),s=SIMD.Float32x4.mul(e,i),s=SIMD.Float32x4.swizzle(s,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,s),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,s)),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,s)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,s),l),c=SIMD.Float32x4.mul(e,o),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),s=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(s,s),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(s,s))),c=SIMD.Float32x4.swizzle(c,0,0,0,0),c?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,o)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,h)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,l)),t):null},i.invert=n.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],u=r[6],h=r[7],l=r[8],c=r[9],f=r[10],p=r[11],d=r[12],y=r[13],v=r[14],m=r[15];return t[0]=o*(f*m-p*v)-c*(u*m-h*v)+y*(u*p-h*f),t[1]=-(n*(f*m-p*v)-c*(i*m-a*v)+y*(i*p-a*f)),t[2]=n*(u*m-h*v)-o*(i*m-a*v)+y*(i*h-a*u),t[3]=-(n*(u*p-h*f)-o*(i*p-a*f)+c*(i*h-a*u)),t[4]=-(s*(f*m-p*v)-l*(u*m-h*v)+d*(u*p-h*f)),t[5]=e*(f*m-p*v)-l*(i*m-a*v)+d*(i*p-a*f),t[6]=-(e*(u*m-h*v)-s*(i*m-a*v)+d*(i*h-a*u)),t[7]=e*(u*p-h*f)-s*(i*p-a*f)+l*(i*h-a*u),t[8]=s*(c*m-p*y)-l*(o*m-h*y)+d*(o*p-h*c),t[9]=-(e*(c*m-p*y)-l*(n*m-a*y)+d*(n*p-a*c)),t[10]=e*(o*m-h*y)-s*(n*m-a*y)+d*(n*h-a*o),t[11]=-(e*(o*p-h*c)-s*(n*p-a*c)+l*(n*h-a*o)),t[12]=-(s*(c*v-f*y)-l*(o*v-u*y)+d*(o*f-u*c)),t[13]=e*(c*v-f*y)-l*(n*v-i*y)+d*(n*f-i*c),t[14]=-(e*(o*v-u*y)-s*(n*v-i*y)+d*(n*u-i*o)),t[15]=e*(o*f-u*c)-s*(n*f-i*c)+l*(n*u-i*o),t},i.SIMD.adjoint=function(t,r){var e,n,i,a,s,o,u,h,l,c,f,p,d,e=SIMD.Float32x4.load(r,0),n=SIMD.Float32x4.load(r,4),i=SIMD.Float32x4.load(r,8),a=SIMD.Float32x4.load(r,12);return l=SIMD.Float32x4.shuffle(e,n,0,1,4,5),o=SIMD.Float32x4.shuffle(i,a,0,1,4,5),s=SIMD.Float32x4.shuffle(l,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,l,1,3,5,7),l=SIMD.Float32x4.shuffle(e,n,2,3,6,7),h=SIMD.Float32x4.shuffle(i,a,2,3,6,7),u=SIMD.Float32x4.shuffle(l,h,0,2,4,6),h=SIMD.Float32x4.shuffle(h,l,1,3,5,7),l=SIMD.Float32x4.mul(u,h),l=SIMD.Float32x4.swizzle(l,1,0,3,2),c=SIMD.Float32x4.mul(o,l),f=SIMD.Float32x4.mul(s,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),c),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),l=SIMD.Float32x4.mul(o,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,l),c),d=SIMD.Float32x4.mul(s,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(h,l)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,2,3,0,1),h),l=SIMD.Float32x4.swizzle(l,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),c),p=SIMD.Float32x4.mul(s,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,l)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),l=SIMD.Float32x4.mul(s,o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,l),p),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),d),l=SIMD.Float32x4.swizzle(l,2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(h,l),p),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.mul(s,h),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,l)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),p),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),f),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(o,l)),l=SIMD.Float32x4.mul(s,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,l),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(o,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(h,l)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),d),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,p),SIMD.Float32x4.store(t,12,d),t},i.adjoint=n.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8],l=t[9],c=t[10],f=t[11],p=t[12],d=t[13],y=t[14],v=t[15];return(r*s-e*a)*(c*v-f*y)-(r*o-n*a)*(l*v-f*d)+(r*u-i*a)*(l*y-c*d)+(e*o-n*s)*(h*v-f*p)-(e*u-i*s)*(h*y-c*p)+(n*u-i*o)*(h*d-l*p)},i.SIMD.multiply=function(t,r,e){var n=SIMD.Float32x4.load(r,0),i=SIMD.Float32x4.load(r,4),a=SIMD.Float32x4.load(r,8),s=SIMD.Float32x4.load(r,12),o=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,3,3,3,3),s))));SIMD.Float32x4.store(t,0,u);var h=SIMD.Float32x4.load(e,4),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),s))));SIMD.Float32x4.store(t,4,l);var c=SIMD.Float32x4.load(e,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),s))));SIMD.Float32x4.store(t,8,f);var p=SIMD.Float32x4.load(e,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),s))));return SIMD.Float32x4.store(t,12,d),t},i.scalar.multiply=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],l=r[7],c=r[8],f=r[9],p=r[10],d=r[11],y=r[12],v=r[13],m=r[14],g=r[15],x=e[0],M=e[1],_=e[2],b=e[3];return t[0]=x*n+M*o+_*c+b*y,t[1]=x*i+M*u+_*f+b*v,t[2]=x*a+M*h+_*p+b*m,t[3]=x*s+M*l+_*d+b*g,x=e[4],M=e[5],_=e[6],b=e[7],t[4]=x*n+M*o+_*c+b*y,t[5]=x*i+M*u+_*f+b*v,t[6]=x*a+M*h+_*p+b*m,t[7]=x*s+M*l+_*d+b*g,x=e[8],M=e[9],_=e[10],b=e[11],t[8]=x*n+M*o+_*c+b*y,t[9]=x*i+M*u+_*f+b*v,t[10]=x*a+M*h+_*p+b*m,t[11]=x*s+M*l+_*d+b*g,x=e[12],M=e[13],_=e[14],b=e[15],t[12]=x*n+M*o+_*c+b*y,t[13]=x*i+M*u+_*f+b*v,t[14]=x*a+M*h+_*p+b*m,t[15]=x*s+M*l+_*d+b*g,t},i.multiply=n.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,r,e){var n,i,a,s,o,u,h,l,c,f,p,d,y=e[0],v=e[1],m=e[2];return r===t?(t[12]=r[0]*y+r[4]*v+r[8]*m+r[12],t[13]=r[1]*y+r[5]*v+r[9]*m+r[13],t[14]=r[2]*y+r[6]*v+r[10]*m+r[14],t[15]=r[3]*y+r[7]*v+r[11]*m+r[15]):(n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],l=r[7],c=r[8],f=r[9],p=r[10],d=r[11],t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=h,t[7]=l,t[8]=c,t[9]=f,t[10]=p,t[11]=d,t[12]=n*y+o*v+c*m+r[12],t[13]=i*y+u*v+f*m+r[13],t[14]=a*y+h*v+p*m+r[14],t[15]=s*y+l*v+d*m+r[15]),t},i.SIMD.translate=function(t,r,e){var n=SIMD.Float32x4.load(r,0),i=SIMD.Float32x4.load(r,4),a=SIMD.Float32x4.load(r,8),s=SIMD.Float32x4.load(r,12),o=SIMD.Float32x4(e[0],e[1],e[2],0);r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(o,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(o,1,1,1,1)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(o,2,2,2,2));var u=SIMD.Float32x4.add(n,SIMD.Float32x4.add(i,SIMD.Float32x4.add(a,s)));return SIMD.Float32x4.store(t,12,u),t},i.translate=n.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,r,e){var n=e[0],i=e[1],a=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},i.SIMD.scale=function(t,r,e){var n,i,a,s=SIMD.Float32x4(e[0],e[1],e[2],0);return n=SIMD.Float32x4.load(r,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0))),i=SIMD.Float32x4.load(r,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1))),a=SIMD.Float32x4.load(r,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,2,2,2,2))),t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},i.scale=n.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,r,e,i){var a,s,o,u,h,l,c,f,p,d,y,v,m,g,x,M,_,b,E,w,S,I,A,T,F=i[0],D=i[1],R=i[2],z=Math.sqrt(F*F+D*D+R*R);return Math.abs(z)<n.EPSILON?null:(z=1/z,F*=z,D*=z,R*=z,a=Math.sin(e),s=Math.cos(e),o=1-s,u=r[0],h=r[1],l=r[2],c=r[3],f=r[4],p=r[5],d=r[6],y=r[7],v=r[8],m=r[9],g=r[10],x=r[11],M=F*F*o+s,_=D*F*o+R*a,b=R*F*o-D*a,E=F*D*o-R*a,w=D*D*o+s,S=R*D*o+F*a,I=F*R*o+D*a,A=D*R*o-F*a,T=R*R*o+s,t[0]=u*M+f*_+v*b,t[1]=h*M+p*_+m*b,t[2]=l*M+d*_+g*b,t[3]=c*M+y*_+x*b,t[4]=u*E+f*w+v*S,t[5]=h*E+p*w+m*S,t[6]=l*E+d*w+g*S,t[7]=c*E+y*w+x*S,t[8]=u*I+f*A+v*T,t[9]=h*I+p*A+m*T,t[10]=l*I+d*A+g*T,t[11]=c*I+y*A+x*T,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},i.scalar.rotateX=function(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[4],s=r[5],o=r[6],u=r[7],h=r[8],l=r[9],c=r[10],f=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*i+h*n,t[5]=s*i+l*n,t[6]=o*i+c*n,t[7]=u*i+f*n,t[8]=h*i-a*n,t[9]=l*i-s*n,t[10]=c*i-o*n,t[11]=f*i-u*n,t},i.SIMD.rotateX=function(t,r,e){var n=SIMD.Float32x4.splat(Math.sin(e)),i=SIMD.Float32x4.splat(Math.cos(e));r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);var a=SIMD.Float32x4.load(r,4),s=SIMD.Float32x4.load(r,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(s,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,i),SIMD.Float32x4.mul(a,n))),t},i.rotateX=n.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],u=r[3],h=r[8],l=r[9],c=r[10],f=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i-h*n,t[1]=s*i-l*n,t[2]=o*i-c*n,t[3]=u*i-f*n,t[8]=a*n+h*i,t[9]=s*n+l*i,t[10]=o*n+c*i,t[11]=u*n+f*i,t},i.SIMD.rotateY=function(t,r,e){var n=SIMD.Float32x4.splat(Math.sin(e)),i=SIMD.Float32x4.splat(Math.cos(e));r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);var a=SIMD.Float32x4.load(r,0),s=SIMD.Float32x4.load(r,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(s,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,n),SIMD.Float32x4.mul(s,i))),t},i.rotateY=n.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],u=r[3],h=r[4],l=r[5],c=r[6],f=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i+h*n,t[1]=s*i+l*n,t[2]=o*i+c*n,t[3]=u*i+f*n,t[4]=h*i-a*n,t[5]=l*i-s*n,t[6]=c*i-o*n,t[7]=f*i-u*n,t},i.SIMD.rotateZ=function(t,r,e){var n=SIMD.Float32x4.splat(Math.sin(e)),i=SIMD.Float32x4.splat(Math.cos(e));r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);var a=SIMD.Float32x4.load(r,0),s=SIMD.Float32x4.load(r,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(s,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,i),SIMD.Float32x4.mul(a,n))),t},i.rotateZ=n.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},i.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,r,e){var i,a,s,o=e[0],u=e[1],h=e[2],l=Math.sqrt(o*o+u*u+h*h);return Math.abs(l)<n.EPSILON?null:(l=1/l,o*=l,u*=l,h*=l,i=Math.sin(r),a=Math.cos(r),s=1-a,t[0]=o*o*s+a,t[1]=u*o*s+h*i,t[2]=h*o*s-u*i,t[3]=0,t[4]=o*u*s-h*i,t[5]=u*u*s+a,t[6]=h*u*s+o*i,t[7]=0,t[8]=o*h*s+u*i,t[9]=u*h*s-o*i,t[10]=h*h*s+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=n+n,u=i+i,h=a+a,l=n*o,c=n*u,f=n*h,p=i*u,d=i*h,y=a*h,v=s*o,m=s*u,g=s*h;return t[0]=1-(p+y),t[1]=c+g,t[2]=f-m,t[3]=0,t[4]=c-g,t[5]=1-(l+y),t[6]=d+v,t[7]=0,t[8]=f+m,t[9]=d-v,t[10]=1-(l+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.getTranslation=function(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t},i.getRotation=function(t,r){var e=r[0]+r[5]+r[10],n=0;return 0<e?(n=2*Math.sqrt(e+1),t[3]=.25*n,t[0]=(r[6]-r[9])/n,t[1]=(r[8]-r[2])/n,t[2]=(r[1]-r[4])/n):r[0]>r[5]&r[0]>r[10]?(n=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/n,t[0]=.25*n,t[1]=(r[1]+r[4])/n,t[2]=(r[8]+r[2])/n):r[5]>r[10]?(n=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/n,t[0]=(r[1]+r[4])/n,t[1]=.25*n,t[2]=(r[6]+r[9])/n):(n=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/n,t[0]=(r[8]+r[2])/n,t[1]=(r[6]+r[9])/n,t[2]=.25*n),t},i.fromRotationTranslationScale=function(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=r[3],u=i+i,h=a+a,l=s+s,c=i*u,f=i*h,p=i*l,d=a*h,y=a*l,v=s*l,m=o*u,g=o*h,x=o*l,M=n[0],_=n[1],b=n[2];return t[0]=(1-(d+v))*M,t[1]=(f+x)*M,t[2]=(p-g)*M,t[3]=0,t[4]=(f-x)*_,t[5]=(1-(c+v))*_,t[6]=(y+m)*_,t[7]=0,t[8]=(p+g)*b,t[9]=(y-m)*b,t[10]=(1-(c+d))*b,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,r,e,n,i){var a=r[0],s=r[1],o=r[2],u=r[3],h=a+a,l=s+s,c=o+o,f=a*h,p=a*l,d=a*c,y=s*l,v=s*c,m=o*c,g=u*h,x=u*l,M=u*c,_=n[0],b=n[1],E=n[2],w=i[0],S=i[1],I=i[2];return t[0]=(1-(y+m))*_,t[1]=(p+M)*_,t[2]=(d-x)*_,t[3]=0,t[4]=(p-M)*b,t[5]=(1-(f+m))*b,t[6]=(v+g)*b,t[7]=0,t[8]=(d+x)*E,t[9]=(v-g)*E,t[10]=(1-(f+y))*E,t[11]=0,t[12]=e[0]+w-(t[0]*w+t[4]*S+t[8]*I),t[13]=e[1]+S-(t[1]*w+t[5]*S+t[9]*I),t[14]=e[2]+I-(t[2]*w+t[6]*S+t[10]*I),t[15]=1,t},i.fromQuat=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e+e,o=n+n,u=i+i,h=e*s,l=n*s,c=n*o,f=i*s,p=i*o,d=i*u,y=a*s,v=a*o,m=a*u;return t[0]=1-c-d,t[1]=l+m,t[2]=f-v,t[3]=0,t[4]=l-m,t[5]=1-h-d,t[6]=p+y,t[7]=0,t[8]=f+v,t[9]=p-y,t[10]=1-h-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,r,e,n,i,a,s){var o=1/(e-r),u=1/(i-n),h=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(e+r)*o,t[9]=(i+n)*u,t[10]=(s+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*(s*a)*h,t[15]=0,t},i.perspective=function(t,r,e,n,i){var a=1/Math.tan(r/2),s=1/(n-i);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*s,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,r,e,n){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),s=Math.tan(r.leftDegrees*Math.PI/180),o=Math.tan(r.rightDegrees*Math.PI/180),u=2/(s+o),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(.5*((s-o)*u)),t[9]=.5*((i-a)*h),t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t},i.ortho=function(t,r,e,n,i,a,s){var o=1/(r-e),u=1/(n-i),h=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(r+e)*o,t[13]=(i+n)*u,t[14]=(s+a)*h,t[15]=1,t},i.lookAt=function(t,r,e,a){var s,o,u,h,l,c,f,p,d,y,v=r[0],m=r[1],g=r[2],x=a[0],M=a[1],_=a[2],b=e[0],E=e[1],w=e[2];return Math.abs(v-b)<n.EPSILON&&Math.abs(m-E)<n.EPSILON&&Math.abs(g-w)<n.EPSILON?i.identity(t):(f=v-b,p=m-E,d=g-w,y=1/Math.sqrt(f*f+p*p+d*d),f*=y,p*=y,d*=y,s=M*d-_*p,o=_*f-x*d,u=x*p-M*f,y=Math.sqrt(s*s+o*o+u*u),y?(y=1/y,s*=y,o*=y,u*=y):(s=0,o=0,u=0),h=p*u-d*o,l=d*s-f*u,c=f*o-p*s,y=Math.sqrt(h*h+l*l+c*c),y?(y=1/y,h*=y,l*=y,c*=y):(h=0,l=0,c=0),t[0]=s,t[1]=h,t[2]=f,t[3]=0,t[4]=o,t[5]=l,t[6]=p,t[7]=0,t[8]=u,t[9]=c,t[10]=d,t[11]=0,t[12]=-(s*v+o*m+u*g),t[13]=-(h*v+l*m+c*g),t[14]=-(f*v+p*m+d*g),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t[9]=r[9]+e[9],t[10]=r[10]+e[10],t[11]=r[11]+e[11],t[12]=r[12]+e[12],t[13]=r[13]+e[13],t[14]=r[14]+e[14],t[15]=r[15]+e[15],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t[9]=r[9]-e[9],t[10]=r[10]-e[10],t[11]=r[11]-e[11],t[12]=r[12]-e[12],t[13]=r[13]-e[13],t[14]=r[14]-e[14],t[15]=r[15]-e[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=r[11]*e,t[12]=r[12]*e,t[13]=r[13]*e,t[14]=r[14]*e,t[15]=r[15]*e,t},i.multiplyScalarAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,
t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t[6]=r[6]+e[6]*n,t[7]=r[7]+e[7]*n,t[8]=r[8]+e[8]*n,t[9]=r[9]+e[9]*n,t[10]=r[10]+e[10]*n,t[11]=r[11]+e[11]*n,t[12]=r[12]+e[12]*n,t[13]=r[13]+e[13]*n,t[14]=r[14]+e[14]*n,t[15]=r[15]+e[15]*n,t},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]},i.equals=function(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],y=t[12],v=t[13],m=t[14],g=t[15],x=r[0],M=r[1],_=r[2],b=r[3],E=r[4],w=r[5],S=r[6],I=r[7],A=r[8],T=r[9],F=r[10],D=r[11],R=r[12],z=r[13],P=r[14],N=r[15];return Math.abs(e-x)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(i-M)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-_)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-b)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(o-E)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(u-w)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(h-S)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(l-I)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(c-A)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-T)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-F)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(d-D)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(y-R)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(v-z)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(m-P)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(g-N)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(N))},t.exports=i},function(t,r,e){var n=e(58),i=e(146),a=e(147),s=e(148),o={};o.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},o.rotationTo=(function(){var t=a.create(),r=a.fromValues(1,0,0),e=a.fromValues(0,1,0);return function(n,i,s){var u=a.dot(i,s);return-.999999>u?(a.cross(t,r,i),1e-6>a.length(t)&&a.cross(t,e,i),a.normalize(t,t),o.setAxisAngle(n,t,Math.PI),n):.999999<u?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(a.cross(t,i,s),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,o.normalize(n,n))}})(),o.setAxes=(function(){var t=i.create();return function(r,e,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],o.normalize(r,o.fromMat3(r,t))}})(),o.clone=s.clone,o.fromValues=s.fromValues,o.copy=s.copy,o.set=s.set,o.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},o.setAxisAngle=function(t,r,e){e*=.5;var n=Math.sin(e);return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=Math.cos(e),t},o.getAxisAngle=function(t,r){var e=2*Math.acos(r[3]),n=Math.sin(e/2);return 0==n?(t[0]=1,t[1]=0,t[2]=0):(t[0]=r[0]/n,t[1]=r[1]/n,t[2]=r[2]/n),e},o.add=s.add,o.multiply=function(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],u=e[1],h=e[2],l=e[3];return t[0]=n*l+s*o+i*h-a*u,t[1]=i*l+s*u+a*o-n*h,t[2]=a*l+s*h+n*u-i*o,t[3]=s*l-n*o-i*u-a*h,t},o.mul=o.multiply,o.scale=s.scale,o.rotateX=function(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),u=Math.cos(e);return t[0]=n*u+s*o,t[1]=i*u+a*o,t[2]=a*u-i*o,t[3]=s*u-n*o,t},o.rotateY=function(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),u=Math.cos(e);return t[0]=n*u-a*o,t[1]=i*u+s*o,t[2]=a*u+n*o,t[3]=s*u-i*o,t},o.rotateZ=function(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),u=Math.cos(e);return t[0]=n*u+i*o,t[1]=i*u-n*o,t[2]=a*u+s*o,t[3]=s*u-a*o,t},o.calculateW=function(t,r){var e=r[0],n=r[1],i=r[2];return t[0]=e,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-e*e-n*n-i*i)),t},o.dot=s.dot,o.lerp=s.lerp,o.slerp=function(t,r,e,n){var i,a,s,o,u,h=r[0],l=r[1],c=r[2],f=r[3],p=e[0],d=e[1],y=e[2],v=e[3];return a=h*p+l*d+c*y+f*v,0>a&&(a=-a,p=-p,d=-d,y=-y,v=-v),1e-6<1-a?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-n)*i)/s,u=Math.sin(n*i)/s):(o=1-n,u=n),t[0]=o*h+u*p,t[1]=o*l+u*d,t[2]=o*c+u*y,t[3]=o*f+u*v,t},o.sqlerp=(function(){var t=o.create(),r=o.create();return function(e,n,i,a,s,u){return o.slerp(t,n,s,u),o.slerp(r,i,a,u),o.slerp(e,t,r,2*u*(1-u)),e}})(),o.invert=function(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*e+n*n+i*i+a*a,o=s?1/s:0;return t[0]=-e*o,t[1]=-n*o,t[2]=-i*o,t[3]=a*o,t},o.conjugate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t},o.length=s.length,o.len=o.length,o.squaredLength=s.squaredLength,o.sqrLen=o.squaredLength,o.normalize=s.normalize,o.fromMat3=function(t,r){var e,n=r[0]+r[4]+r[8];if(0<n)e=Math.sqrt(n+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var i=0;r[4]>r[0]&&(i=1),r[8]>r[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;e=Math.sqrt(r[3*i+i]-r[3*a+a]-r[3*s+s]+1),t[i]=.5*e,e=.5/e,t[3]=(r[3*a+s]-r[3*s+a])*e,t[a]=(r[3*a+i]+r[3*i+a])*e,t[s]=(r[3*s+i]+r[3*i+s])*e}return t},o.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=s.exactEquals,o.equals=s.equals,t.exports=o},function(t,r,e){var n=e(58),i={};i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var r=new n.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r},i.fromValues=function(t,r){var e=new n.ARRAY_TYPE(2);return e[0]=t,e[1]=r,e},i.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},i.set=function(t,r,e){return t[0]=r,t[1]=e,t},i.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t},i.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t},i.sub=i.subtract,i.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t},i.mul=i.multiply,i.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t},i.div=i.divide,i.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t},i.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t},i.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t},i.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t},i.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t},i.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t},i.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t},i.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.sqrt(e*e+n*n)},i.dist=i.distance,i.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n},i.sqrDist=i.squaredDistance,i.length=function(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)},i.len=i.length,i.squaredLength=function(t){var r=t[0],e=t[1];return r*r+e*e},i.sqrLen=i.squaredLength,i.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},i.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},i.normalize=function(t,r){var e=r[0],n=r[1],i=e*e+n*n;return 0<i&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i),t},i.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},i.cross=function(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t},i.lerp=function(t,r,e,n){var i=r[0],a=r[1];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t},i.random=function(t,r){r=r||1;var e=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t},i.transformMat2=function(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[2]*i,t[1]=e[1]*n+e[3]*i,t},i.transformMat2d=function(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t},i.transformMat3=function(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t},i.transformMat4=function(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[4]*i+e[12],t[1]=e[1]*n+e[5]*i+e[13],t},i.forEach=(function(){var t=i.create();return function(r,e,n,i,a,s){var o,u;for(e||(e=2),n||(n=0),u=i?Math.min(i*e+n,r.length):r.length,o=n;o<u;o+=e)t[0]=r[o],t[1]=r[o+1],a(t,t,s),r[o]=t[0],r[o+1]=t[1];return r}})(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]},i.equals=function(t,r){var e=t[0],i=t[1],a=r[0],s=r[1];return Math.abs(e-a)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))},t.exports=i},function(t){"use strict";function r(t,r,e,n){this.gl=t,this.handle=r,this.format=e,this.type=n,this._minFilter=t.NEAREST,this._magFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE}function e(t){var r=t.createTexture();return t.bindTexture(t.TEXTURE_CUBE_MAP,r),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r}function n(t,n,i,a){var s=e(t);return t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X,0,i,i,a,n.pos.x),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_Y,0,i,i,a,n.pos.y),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_Z,0,i,i,a,n.pos.z),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_X,0,i,i,a,n.neg.x),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,i,i,a,n.neg.y),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,i,i,a,n.neg.z),new r(t,s,i,a)}t.exports=function(t,r,e,i){return e=e||t.RGBA,i=i||t.UNSIGNED_BYTE,n(t,r,e,i)};var i=r.prototype;Object.defineProperties(i,{minFilter:{get:function(){return this._minFilter},set:function(t){var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,t),this._minFilter=t,t}},magFilter:{get:function(){return this._magFilter},set:function(t){var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,t),this._magFilter=t,t}},wrapS:{get:function(){return this._wrapS},set:function(t){var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_S,t),this._wrapS=t,t}},wrapT:{get:function(){return this._wrapT},set:function(t){var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_T,t),this._wrapT=t,t}},wrap:{get:function(){return[this.wrapS,this.wrapT]},set:function(t){return Array.isArray(t)||(t=[t,t]),this.wrapS=t[0],this.wrapT=t[1],t}}}),i.bind=function(t){var r=this.gl;return void 0!==t&&r.activeTexture(r.TEXTURE0+(0|t)),r.bindTexture(r.TEXTURE_CUBE_MAP,this.handle),void 0===t?r.getParameter(r.ACTIVE_TEXTURE)-r.TEXTURE0:0|t},i.dispose=function(){this.gl.deleteTexture(this.handle)},i.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_CUBE_MAP)}},function(t,r){r.read=function(t,r,e,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,h=u>>1,l=-7,c=e?i-1:0,f=e?-1:1,p=t[r+c];for(c+=f,a=p&(1<<-l)-1,p>>=-l,l+=o;0<l;a=256*a+t[r+c],c+=f,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=n;0<l;s=256*s+t[r+c],c+=f,l-=8);if(0===a)a=1-h;else{if(a===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),a-=h}return(p?-1:1)*s*Math.pow(2,a-n)},r.write=function(t,r,e,n,i,a){var s,o,u,h=8*a-i-1,l=(1<<h)-1,c=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,y=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,s=l):(s=Math.floor(Math.log(r)/Math.LN2),1>r*(u=Math.pow(2,-s))&&(s--,u*=2),r+=1<=s+c?f/u:f*Math.pow(2,1-c),2<=r*u&&(s++,u/=2),s+c>=l?(o=0,s=l):1<=s+c?(o=(r*u-1)*Math.pow(2,i),s+=c):(o=r*Math.pow(2,c-1)*Math.pow(2,i),s=0));8<=i;t[e+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,h+=i;0<h;t[e+p]=255&s,p+=d,s/=256,h-=8);t[e+p-d]|=128*y}},function(t){"use strict";t.exports=function(t){for(var r=Array(t),e=0;e<t;++e)r[e]=e;return r}},function(t){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function e(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}t.exports=function(t){return null!=t&&(r(t)||e(t)||!!t._isBuffer)}},function(t,r,e){"use strict";function n(t){if(!t)return o;for(var r=0;r<t.args.length;++r){var e=t.args[r];t.args[r]=0===r?{name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return s({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function a(t){for(var r=[],e=0;e<t.args.length;++e)r.push("a"+e);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""));return n(i(t))}var s=e(195),o={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!(function(){for(var t in u){var e=u[t];r[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}})();var h={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!(function(){for(var t in h){var e=h[t];r[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}})();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!(function(){for(var t in l){var e=l[t];r[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}})();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!(function(){for(var t=0;t<c.length;++t){var e=c[t];r[e]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}})();var f=["max","min","atan2","pow"];!(function(){for(var t=0;t<f.length;++t){var e=f[t];r[e]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}})();var p=["atan2","pow"];!(function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}})(),r.any=s({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=s({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=s({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,r,e){function n(t,r){return t[0]-r[0]}function i(){var t,r=this.stride,e=Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var i=Array(e.length);for(t=0;t<i.length;++t)i[t]=e[t][1];return i}function a(t,r){var e=["View",r,"d",t].join("");0>r&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var a="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",s=new Function(a);return s()}if(0===r){var a="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",s=new Function("TrivialArray",a);return s(l[t][0])}var a=["'use strict'"],u=o(r),h=u.map((function(t){return"i"+t})),c="this.offset+"+u.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),f=u.map((function(t){return"b"+t})).join(","),p=u.map((function(t){return"c"+t})).join(",");a.push("function "+e+"(a,"+f+","+p+",d){this.data=a","this.shape=["+f+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),a.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+u.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===r?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),4>r?(a.push("function "+e+"_order(){"),2===r?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3==r&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+e+"_set("+h.join(",")+",v){"),n?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+e+"_get("+h.join(",")+"){"),n?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+e+"_index(",h.join(),"){return "+c+"}"),a.push("proto.hi=function "+e+"_hi("+h.join(",")+"){return new "+e+"(this.data,"+u.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+u.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=u.map((function(t){return"a"+t+"=this.shape["+t+"]"})),y=u.map((function(t){return"c"+t+"=this.stride["+t+"]"}));a.push("proto.lo=function "+e+"_lo("+h.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+y.join(","));for(var v=0;v<r;++v)a.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");a.push("return new "+e+"(this.data,"+u.map((function(t){return"a"+t})).join(",")+","+u.map((function(t){return"c"+t})).join(",")+",b)}"),a.push("proto.step=function "+e+"_step("+h.join(",")+"){var "+u.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+u.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;v<r;++v)a.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");a.push("return new "+e+"(this.data,"+u.map((function(t){return"a"+t})).join(",")+","+u.map((function(t){return"b"+t})).join(",")+",c)}");for(var m=Array(r),g=Array(r),v=0;v<r;++v)m[v]="a[i"+v+"]",g[v]="b[i"+v+"]";a.push("proto.transpose=function "+e+"_transpose("+h+"){"+h.map((function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+m.join(",")+","+g.join(",")+",this.offset)}"),a.push("proto.pick=function "+e+"_pick("+h+"){var a=[],b=[],c=this.offset");for(var v=0;v<r;++v)a.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+u.map((function(t){return"shape["+t+"]"})).join(",")+","+u.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",a.join("\n"));return s(l[t],i)}function s(t){if(u(t))return"buffer";if(h)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}var o=e(207),u=e(208),h="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,r,e,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var o=r.length;if(void 0===e){e=Array(o);for(var u=o-1,h=1;0<=u;--u)e[u]=h,h*=r[u]}if(void 0===n){n=0;for(var u=0;u<o;++u)0>e[u]&&(n-=(r[u]-1)*e[u])}for(var c=s(t),f=l[c];f.length<=o+1;)f.push(a(c,f.length-1));var i=f[o+1];return i(t,r,e,n)}},function(t,r,e){(function(t){t.BloomPass=function(r,e,n,i){t.Pass.call(this),r=void 0===r?1:r,e=void 0===e?25:e,n=void 0===n?4:n,i=void 0===i?256:i;var a={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat};this.renderTargetX=new t.WebGLRenderTarget(i,i,a),this.renderTargetY=new t.WebGLRenderTarget(i,i,a),void 0===t.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var s=t.CopyShader;this.copyUniforms=t.UniformsUtils.clone(s.uniforms),this.copyUniforms.opacity.value=r,this.materialCopy=new t.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,blending:t.AdditiveBlending,transparent:!0}),void 0===t.ConvolutionShader&&console.error("THREE.BloomPass relies on THREE.ConvolutionShader");var o=t.ConvolutionShader;this.convolutionUniforms=t.UniformsUtils.clone(o.uniforms),this.convolutionUniforms.uImageIncrement.value=t.BloomPass.blurX,this.convolutionUniforms.cKernel.value=t.ConvolutionShader.buildKernel(n),this.materialConvolution=new t.ShaderMaterial({uniforms:this.convolutionUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{KERNEL_SIZE_FLOAT:e.toFixed(1),KERNEL_SIZE_INT:e.toFixed(0)}}),this.needsSwap=!1,this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)},t.BloomPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.BloomPass,render:function(r,e,n,i,a){a&&r.context.disable(r.context.STENCIL_TEST),this.quad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=n.texture,this.convolutionUniforms.uImageIncrement.value=t.BloomPass.blurX,r.render(this.scene,this.camera,this.renderTargetX,!0),this.convolutionUniforms.tDiffuse.value=this.renderTargetX.texture,this.convolutionUniforms.uImageIncrement.value=t.BloomPass.blurY,r.render(this.scene,this.camera,this.renderTargetY,!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetY.texture,a&&r.context.enable(r.context.STENCIL_TEST),r.render(this.scene,this.camera,n,this.clear)}}),t.BloomPass.blurX=new t.Vector2(.001953125,0),t.BloomPass.blurY=new t.Vector2(0,.001953125)}).call(r,e(17))},function(t,r,e){(function(t){t.EffectComposer=function(r,e){if(this.renderer=r,void 0===e){var n={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat,stencilBuffer:!1},i=r.getSize();e=new t.WebGLRenderTarget(i.width,i.height,n)}this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===t.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new t.ShaderPass(t.CopyShader)},Object.assign(t.EffectComposer.prototype,{swapBuffers:function(){var t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t},addPass:function(t){this.passes.push(t);var r=this.renderer.getSize();t.setSize(r.width,r.height)},insertPass:function(t,r){this.passes.splice(r,0,t)},render:function(r){var e,n,i=!1,a=this.passes.length;for(n=0;n<a;n++)if(e=this.passes[n],!1!==e.enabled){if(e.render(this.renderer,this.writeBuffer,this.readBuffer,r,i),e.needsSwap){if(i){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,r),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==t.MaskPass&&(e instanceof t.MaskPass?i=!0:e instanceof t.ClearMaskPass&&(i=!1))}},reset:function(t){if(void 0===t){var r=this.renderer.getSize();t=this.renderTarget1.clone(),t.setSize(r.width,r.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(t,r){this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(var e=0;e<this.passes.length;e++)this.passes[e].setSize(t,r)}}),t.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(t.Pass.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})}).call(r,e(17))},function(t,r,e){(function(t){t.MaskPass=function(r,e){t.Pass.call(this),this.scene=r,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1},t.MaskPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.MaskPass,render:function(t,r,e){var n=t.context,i=t.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);var a,s;this.inverse?(a=0,s=1):(a=1,s=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),i.buffers.stencil.setFunc(n.ALWAYS,a,4294967295),i.buffers.stencil.setClear(s),t.render(this.scene,this.camera,e,this.clear),t.render(this.scene,this.camera,r,this.clear),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setFunc(n.EQUAL,1,4294967295),i.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP)}}),t.ClearMaskPass=function(){t.Pass.call(this),this.needsSwap=!1},t.ClearMaskPass.prototype=Object.create(t.Pass.prototype),
Object.assign(t.ClearMaskPass.prototype,{render:function(t){t.state.buffers.stencil.setTest(!1)}})}).call(r,e(17))},function(t,r,e){(function(t){t.RenderPass=function(r,e,n,i,a){t.Pass.call(this),this.scene=r,this.camera=e,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0===a?0:a,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},t.RenderPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.RenderPass,render:function(t,r,e){var n=t.autoClear;t.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var i,a;this.clearColor&&(i=t.getClearColor().getHex(),a=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.render(this.scene,this.camera,this.renderToScreen?null:e,this.clear),this.clearColor&&t.setClearColor(i,a),this.scene.overrideMaterial=null,t.autoClear=n}})}).call(r,e(17))},function(t,r,e){(function(t){t.ShaderPass=function(r,e){t.Pass.call(this),this.textureID=void 0===e?"tDiffuse":e,r instanceof t.ShaderMaterial?(this.uniforms=r.uniforms,this.material=r):r&&(this.uniforms=t.UniformsUtils.clone(r.uniforms),this.material=new t.ShaderMaterial({defines:r.defines||{},uniforms:this.uniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader})),this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)},t.ShaderPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.ShaderPass,render:function(t,r,e){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=e.texture),this.quad.material=this.material,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,this.clear)}})}).call(r,e(17))},function(t,r,e){(function(t){t.ConvolutionShader={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new t.Vector2(.001953125,0)},cKernel:{value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function(t){function r(t,r){return Math.exp(-(t*t)/(2*r*r))}var e,n,i,a,s=25,o=2*Math.ceil(3*t)+1;for(o>s&&(o=s),a=.5*(o-1),n=Array(o),i=0,e=0;e<o;++e)n[e]=r(e-a,t),i+=n[e];for(e=0;e<o;++e)n[e]/=i;return n}}}).call(r,e(17))},function(t,r,e){(function(t){t.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}}).call(r,e(17))},function(t,r,e){"use strict";function n(){}e.d(r,"a",(function(){return n})),Object.assign(n.prototype,{addEventListener:function(t,r){void 0===this._listeners&&(this._listeners={});var e=this._listeners;void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},hasEventListener:function(t,r){if(void 0===this._listeners)return!1;var e=this._listeners;return void 0!==e[t]&&-1!==e[t].indexOf(r)},removeEventListener:function(t,r){if(void 0!==this._listeners){var e=this._listeners,n=e[t];if(void 0!==n){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var r=this._listeners,e=r[t.type];if(void 0!==e){t.target=this;var n=[],i=0,a=e.length;for(i=0;i<a;i++)n[i]=e[i];for(i=0;i<a;i++)n[i].call(this,t)}}}})},function(t,r,e){"use strict";function n(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}var i=e(114);e.d(r,"a",(function(){return n})),n.prototype={constructor:n,isMatrix3:!0,set:function(t,r,e,n,i,a,s,o,u){var h=this.elements;return h[0]=t,h[1]=n,h[2]=s,h[3]=r,h[4]=i,h[5]=o,h[6]=e,h[7]=a,h[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var r=t.elements;return this.set(r[0],r[3],r[6],r[1],r[4],r[7],r[2],r[5],r[8]),this},setFromMatrix4:function(t){var r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this},applyToVector3Array:(function(){var t;return function(r,e,n){void 0==t&&(t=new i.a),void 0===e&&(e=0),void 0===n&&(n=r.length);for(var a=0,s=e;a<n;a+=3,s+=3)t.fromArray(r,s),t.applyMatrix3(this),t.toArray(r,s);return r}})(),applyToBufferAttribute:(function(){var t;return function(r){void 0==t&&(t=new i.a);for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix3(this),r.setXYZ(e,t.x,t.y,t.z);return r}})(),multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this},determinant:function(){var t=this.elements,r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return r*a*h-r*s*u-e*i*h+e*s*o+n*i*u-n*a*o},getInverse:function(t,r){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var e=t.elements,n=this.elements,i=e[0],a=e[1],s=e[2],o=e[3],u=e[4],h=e[5],l=e[6],c=e[7],f=e[8],p=f*u-h*c,d=h*l-f*o,y=c*o-u*l,v=i*p+a*d+s*y;if(0==v){var m="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===r)throw new Error(m);return console.warn(m),this.identity()}var g=1/v;return n[0]=p*g,n[1]=(s*c-f*a)*g,n[2]=(h*a-s*u)*g,n[3]=d*g,n[4]=(f*i-s*l)*g,n[5]=(s*o-h*i)*g,n[6]=y*g,n[7]=(a*l-c*i)*g,n[8]=(u*i-a*o)*g,this},transpose:function(){var t,r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;9>e;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t}}},function(t,r,e){"use strict";function n(t,r,e,n){this._x=t||0,this._y=r||0,this._z=e||0,this._w=void 0===n?1:n}var i=e(114);e.d(r,"a",(function(){return n})),n.prototype={constructor:n,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,r,e,n){return this._x=t,this._y=r,this._z=e,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,r){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var e=Math.cos(t._x/2),n=Math.cos(t._y/2),i=Math.cos(t._z/2),a=Math.sin(t._x/2),s=Math.sin(t._y/2),o=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=a*n*i+e*s*o,this._y=e*s*i-a*n*o,this._z=e*n*o+a*s*i,this._w=e*n*i-a*s*o):"YXZ"===u?(this._x=a*n*i+e*s*o,this._y=e*s*i-a*n*o,this._z=e*n*o-a*s*i,this._w=e*n*i+a*s*o):"ZXY"===u?(this._x=a*n*i-e*s*o,this._y=e*s*i+a*n*o,this._z=e*n*o+a*s*i,this._w=e*n*i-a*s*o):"ZYX"===u?(this._x=a*n*i-e*s*o,this._y=e*s*i+a*n*o,this._z=e*n*o-a*s*i,this._w=e*n*i+a*s*o):"YZX"===u?(this._x=a*n*i+e*s*o,this._y=e*s*i+a*n*o,this._z=e*n*o-a*s*i,this._w=e*n*i-a*s*o):"XZY"===u&&(this._x=a*n*i-e*s*o,this._y=e*s*i-a*n*o,this._z=e*n*o+a*s*i,this._w=e*n*i+a*s*o),!1!==r&&this.onChangeCallback(),this},setFromAxisAngle:function(t,r){var e=r/2,n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var r,e=t.elements,n=e[0],i=e[4],a=e[8],s=e[1],o=e[5],u=e[9],h=e[2],l=e[6],c=e[10],f=n+o+c;return 0<f?(r=.5/Math.sqrt(f+1),this._w=.25/r,this._x=(l-u)*r,this._y=(a-h)*r,this._z=(s-i)*r):n>o&&n>c?(r=2*Math.sqrt(1+n-o-c),this._w=(l-u)/r,this._x=.25*r,this._y=(i+s)/r,this._z=(a+h)/r):o>c?(r=2*Math.sqrt(1+o-n-c),this._w=(a-h)/r,this._x=(i+s)/r,this._y=.25*r,this._z=(u+l)/r):(r=2*Math.sqrt(1+c-n-o),this._w=(s-i)/r,this._x=(a+h)/r,this._y=(u+l)/r,this._z=.25*r),this.onChangeCallback(),this},setFromUnitVectors:(function(){var t,r;return function(e,n){return void 0==t&&(t=new i.a),r=e.dot(n)+1,1e-6>r?(r=0,Math.abs(e.x)>Math.abs(e.z)?t.set(-e.y,e.x,0):t.set(0,-e.z,e.y)):t.crossVectors(e,n),this._x=t.x,this._y=t.y,this._z=t.z,this._w=r,this.normalize()}})(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,r){return void 0===r?this.multiplyQuaternions(this,t):(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,r))},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,r){var e=t._x,n=t._y,i=t._z,a=t._w,s=r._x,o=r._y,u=r._z,h=r._w;return this._x=e*h+a*s+n*u-i*o,this._y=n*h+a*o+i*s-e*u,this._z=i*h+a*u+e*o-n*s,this._w=a*h-e*s-n*o-i*u,this.onChangeCallback(),this},slerp:function(t,r){if(0===r)return this;if(1===r)return this.copy(t);var e=this._x,n=this._y,i=this._z,a=this._w,s=a*t._w+e*t._x+n*t._y+i*t._z;if(0>s?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),1<=s)return this._w=a,this._x=e,this._y=n,this._z=i,this;var o=Math.sqrt(1-s*s);if(.001>Math.abs(o))return this._w=.5*(a+this._w),this._x=.5*(e+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(o,s),h=Math.sin((1-r)*u)/o,l=Math.sin(r*u)/o;return this._w=a*h+this._w*l,this._x=e*h+this._x*l,this._y=n*h+this._y*l,this._z=i*h+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,r){return void 0===r&&(r=0),this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this.onChangeCallback(),this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(n,{slerp:function(t,r,e,n){return e.copy(t).slerp(r,n)},slerpFlat:function(t,r,e,n,i,a,s){var o=e[n+0],u=e[n+1],h=e[n+2],l=e[n+3],c=i[a+0],f=i[a+1],p=i[a+2],d=i[a+3];if(l!==d||o!==c||u!==f||h!==p){var y=1-s,v=o*c+u*f+h*p+l*d,m=0<=v?1:-1,g=1-v*v;if(g>Number.EPSILON){var x=Math.sqrt(g),M=Math.atan2(x,v*m);y=Math.sin(y*M)/x,s=Math.sin(s*M)/x}var _=s*m;if(o=o*y+c*_,u=u*y+f*_,h=h*y+p*_,l=l*y+d*_,y==1-s){var b=1/Math.sqrt(o*o+u*u+h*h+l*l);o*=b,u*=b,h*=b,l*=b}}t[r]=o,t[r+1]=u,t[r+2]=h,t[r+3]=l}})},function(t,r,e){"use strict";function n(t,r,e,n){this.x=t||0,this.y=r||0,this.z=e||0,this.w=void 0===n?1:n}e.d(r,"a",(function(){return n})),n.prototype={constructor:n,isVector4:!0,set:function(t,r,e,n){return this.x=t,this.y=r,this.z=e,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0===t.w?1:t.w,this},add:function(t,r){return void 0===r?(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this):(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r))},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this},sub:function(t,r){return void 0===r?(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this):(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r))},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=this.w,a=t.elements;return this.x=a[0]*r+a[4]*e+a[8]*n+a[12]*i,this.y=a[1]*r+a[5]*e+a[9]*n+a[13]*i,this.z=a[2]*r+a[6]*e+a[10]*n+a[14]*i,this.w=a[3]*r+a[7]*e+a[11]*n+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var r=Math.sqrt(1-t.w*t.w);return 1e-4>r?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this},setAxisAngleFromRotationMatrix:function(t){var r,e,n,i,a=.01,s=.1,o=t.elements,u=o[0],h=o[4],l=o[8],c=o[1],f=o[5],p=o[9],d=o[2],y=o[6],v=o[10];if(Math.abs(h-c)<a&&Math.abs(l-d)<a&&Math.abs(p-y)<a){if(Math.abs(h+c)<s&&Math.abs(l+d)<s&&Math.abs(p+y)<s&&Math.abs(u+f+v-3)<s)return this.set(1,0,0,0),this;r=Math.PI;var m=(u+1)/2,g=(f+1)/2,x=(v+1)/2,M=(h+c)/4,_=(l+d)/4,b=(p+y)/4;return m>g&&m>x?m<a?(e=0,n=.707106781,i=.707106781):(e=Math.sqrt(m),n=M/e,i=_/e):g>x?g<a?(e=.707106781,n=0,i=.707106781):(n=Math.sqrt(g),e=M/n,i=b/n):x<a?(e=.707106781,n=.707106781,i=0):(i=Math.sqrt(x),e=_/i,n=b/i),this.set(e,n,i,r),this}var E=Math.sqrt((y-p)*(y-p)+(l-d)*(l-d)+(c-h)*(c-h));return.001>Math.abs(E)&&(E=1),this.x=(y-p)/E,this.y=(l-d)/E,this.z=(c-h)/E,this.w=Math.acos((u+f+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this},clampScalar:(function(){var t,r;return function(e,i){return void 0==t&&(t=new n,r=new n),t.set(e,e,e,e),r.set(i,i,i,i),this.clamp(t,r)}})(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t},fromAttribute:function(t,r,e){return void 0!==e&&console.warn("THREE.Vector4: offset has been removed from .fromAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}}},function(t,r,e){"use strict";function n(t,r,e,n,s,o,u,h,l,c){t=void 0===t?[]:t,r=void 0===r?a.j:r,i.a.call(this,t,r,e,n,s,o,u,h,l,c),this.flipY=!1}var i=e(152),a=e(134);e.d(r,"a",(function(){return n})),n.prototype=Object.create(i.a.prototype),n.prototype.constructor=n,n.prototype.isCubeTexture=!0,Object.defineProperty(n.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}})},function(t,r,e){"use strict";(function(t,n){function i(t){if(t){var r=t.length||t.byteLength,e=m.log2(r);_[e].push(t)}}function a(t){var t=m.nextPow2(t),r=m.log2(t),e=_[r];return 0<e.length?e.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function o(t){return new Uint16Array(a(2*t),0,t)}function u(t){return new Uint32Array(a(4*t),0,t)}function h(t){return new Int8Array(a(t),0,t)}function l(t){return new Int16Array(a(2*t),0,t)}function c(t){return new Int32Array(a(4*t),0,t)}function f(t){return new Float32Array(a(4*t),0,t)}function p(t){return new Float64Array(a(8*t),0,t)}function d(t){return x?new Uint8ClampedArray(a(t),0,t):s(t)}function y(t){return new DataView(a(t),0,t)}function v(t){t=m.nextPow2(t);var r=m.log2(t),e=b[r];return 0<e.length?e.pop():new n(t)}var m=e(172),g=e(198);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:g([32,0]),UINT16:g([32,0]),UINT32:g([32,0]),INT8:g([32,0]),INT16:g([32,0]),INT32:g([32,0]),FLOAT:g([32,0]),DOUBLE:g([32,0]),DATA:g([32,0]),UINT8C:g([32,0]),BUFFER:g([32,0])});var x="undefined"!=typeof Uint8ClampedArray,M=t.__TYPEDARRAY_POOL;M.UINT8C||(M.UINT8C=g([32,0])),M.BUFFER||(M.BUFFER=g([32,0]));var _=M.DATA,b=M.BUFFER;r.free=function(t){if(n.isBuffer(t))b[m.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|m.log2(r);_[e].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(t){i(t.buffer)},r.freeArrayBuffer=i,r.freeBuffer=function(t){b[m.log2(t.length)].push(t)},r.malloc=function(t,r){return void 0===r||"arraybuffer"===r?a(t):"uint8"===r?s(t):"uint16"===r?o(t):"uint32"===r?u(t):"int8"===r?h(t):"int16"===r?l(t):"int32"===r?c(t):"float"===r||"float32"===r?f(t):"double"===r||"float64"===r?p(t):"uint8_clamped"===r?d(t):"buffer"===r?v(t):"data"===r||"dataview"===r?y(t):null},r.mallocArrayBuffer=a,r.mallocUint8=s,r.mallocUint16=o,r.mallocUint32=u,r.mallocInt8=h,r.mallocInt16=l,r.mallocInt32=c,r.mallocFloat32=r.mallocFloat=f,r.mallocFloat64=r.mallocDouble=p,r.mallocUint8Clamped=d,r.mallocDataView=y,r.mallocBuffer=v,r.clearCache=function(){for(var t=0;32>t;++t)M.UINT8[t].length=0,M.UINT16[t].length=0,M.UINT32[t].length=0,M.INT8[t].length=0,M.INT16[t].length=0,M.INT32[t].length=0,M.FLOAT[t].length=0,M.DOUBLE[t].length=0,M.UINT8C[t].length=0,_[t].length=0,b[t].length=0}}).call(r,e(153),e(173).Buffer)},function(t){"use strict";function r(t,r){for(var e=1,n=t.length,i=t[0],a=t[0],s=1;s<n;++s)if(a=i,i=t[s],r(i,a)){if(s===e){e++;continue}t[e++]=i}return t.length=e,t}function e(t){for(var r=1,e=t.length,n=t[0],i=t[0],a=1;a<e;++a,i=n)if(i=n,n=t[a],n!==i){if(a===r){r++;continue}t[r++]=n}return t.length=r,t}t.exports=function(t,n,i){return 0===t.length?t:n?(i||t.sort(n),r(t,n)):(i||t.sort(),e(t))}}]));